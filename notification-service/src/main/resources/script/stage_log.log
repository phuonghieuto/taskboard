2025-03-24T22:46:42.005+07:00  INFO 14892 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Starting NotificationControllerIntegrationTest using Java 21.0.4 with PID 14892 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T22:46:42.007+07:00  INFO 14892 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T22:46:42.966+07:00  WARN 14892 --- [notification-service] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.phuonghieuto.backend.notification_service.NotificationServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
2025-03-24T22:46:42.986+07:00  INFO 14892 --- [notification-service] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-24T22:46:43.022+07:00 ERROR 14892 --- [notification-service] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.phuonghieuto.backend.notification_service.NotificationServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:613) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:836) ~[spring-context-6.2.2.jar:6.2.2]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:833) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:803) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:418) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:99) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:233) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:603) ~[spring-context-6.2.2.jar:6.2.2]
	... 98 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'MAIL_HOST' in value "${MAIL_HOST}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:416) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:255) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:226) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:246) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:81) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:62) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:557) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition$Spec.collectProperties(OnPropertyCondition.java:121) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition.determineOutcome(OnPropertyCondition.java:71) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition.getMatchOutcome(OnPropertyCondition.java:58) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.getConditionOutcome(AbstractNestedCondition.java:195) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.<init>(AbstractNestedCondition.java:189) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.lambda$getMatchOutcomes$0(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986) ~[na:na]
	at org.springframework.util.MultiValueMapAdapter.forEach(MultiValueMapAdapter.java:179) ~[spring-core-6.2.2.jar:6.2.2]
	at java.base/java.util.Collections$UnmodifiableMap.forEach(Collections.java:1707) ~[na:na]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.getMatchOutcomes(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberMatchOutcomes.<init>(AbstractNestedCondition.java:78) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition.getMatchOutcome(AbstractNestedCondition.java:63) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	... 101 common frames omitted

2025-03-24T22:46:43.035+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@4a44cfc0]

java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.phuonghieuto.backend.notification_service.NotificationServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:613) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:836) ~[spring-context-6.2.2.jar:6.2.2]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:833) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:803) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:418) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	... 74 common frames omitted
Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:99) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:233) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:603) ~[spring-context-6.2.2.jar:6.2.2]
	... 98 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'MAIL_HOST' in value "${MAIL_HOST}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:416) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:255) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:226) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:246) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:81) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:62) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:557) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition$Spec.collectProperties(OnPropertyCondition.java:121) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition.determineOutcome(OnPropertyCondition.java:71) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition.getMatchOutcome(OnPropertyCondition.java:58) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.getConditionOutcome(AbstractNestedCondition.java:195) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.<init>(AbstractNestedCondition.java:189) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.lambda$getMatchOutcomes$0(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986) ~[na:na]
	at org.springframework.util.MultiValueMapAdapter.forEach(MultiValueMapAdapter.java:179) ~[spring-core-6.2.2.jar:6.2.2]
	at java.base/java.util.Collections$UnmodifiableMap.forEach(Collections.java:1707) ~[na:na]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.getMatchOutcomes(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberMatchOutcomes.<init>(AbstractNestedCondition.java:78) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition.getMatchOutcome(AbstractNestedCondition.java:63) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	... 101 common frames omitted

2025-03-24T22:46:43.062+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@20a967fe]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]

2025-03-24T22:46:43.066+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@682abca7]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]

2025-03-24T22:46:43.070+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@76f881d9]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]

2025-03-24T22:46:43.073+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@50a13c2f]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]

2025-03-24T22:46:43.077+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@53c99b09]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]

2025-03-24T22:46:43.082+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@7c20cdd0]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]

2025-03-24T22:46:43.086+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@6b6eae52]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]

2025-03-24T22:46:43.091+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@7ae0cc89]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]

2025-03-24T22:46:43.095+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@13e5d243]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]

2025-03-24T22:46:43.099+07:00  WARN 14892 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@4997552e]

java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4fa4f485 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@68dd39d2 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@415b0b49, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@21be3395, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2438dcd, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@3214ee6, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@74287ea3, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4bff7da0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@7dba5cd7], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]

2025-03-24T22:47:17.184+07:00  INFO 20400 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Starting NotificationControllerIntegrationTest using Java 21.0.4 with PID 20400 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T22:47:17.186+07:00  INFO 20400 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T22:47:17.930+07:00  WARN 20400 --- [notification-service] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.phuonghieuto.backend.notification_service.NotificationServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
2025-03-24T22:47:17.951+07:00  INFO 20400 --- [notification-service] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-24T22:47:17.973+07:00 ERROR 20400 --- [notification-service] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.phuonghieuto.backend.notification_service.NotificationServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:613) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:836) ~[spring-context-6.2.2.jar:6.2.2]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:833) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:803) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:418) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:99) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:233) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:603) ~[spring-context-6.2.2.jar:6.2.2]
	... 98 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'MAIL_HOST' in value "${MAIL_HOST}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:416) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:255) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:226) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:246) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:81) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:62) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:557) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition$Spec.collectProperties(OnPropertyCondition.java:121) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition.determineOutcome(OnPropertyCondition.java:71) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition.getMatchOutcome(OnPropertyCondition.java:58) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.getConditionOutcome(AbstractNestedCondition.java:195) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.<init>(AbstractNestedCondition.java:189) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.lambda$getMatchOutcomes$0(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986) ~[na:na]
	at org.springframework.util.MultiValueMapAdapter.forEach(MultiValueMapAdapter.java:179) ~[spring-core-6.2.2.jar:6.2.2]
	at java.base/java.util.Collections$UnmodifiableMap.forEach(Collections.java:1707) ~[na:na]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.getMatchOutcomes(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberMatchOutcomes.<init>(AbstractNestedCondition.java:78) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition.getMatchOutcome(AbstractNestedCondition.java:63) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	... 101 common frames omitted

2025-03-24T22:47:17.983+07:00  WARN 20400 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@60e3c26e]

java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@68dd39d2 testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4a44cfc0 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d29b4ee, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1224144a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2235eaab, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5167f57d, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@3e2055d6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4b86805d, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6e234826], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [com.phuonghieuto.backend.notification_service.NotificationServiceApplication]: Error processing condition on org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:613) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:836) ~[spring-context-6.2.2.jar:6.2.2]
	at java.base/java.lang.Iterable.forEach(Iterable.java:75) ~[na:na]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:833) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:803) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:418) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:290) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:349) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:118) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	... 74 common frames omitted
Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.mail.MailSenderAutoConfiguration
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:99) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:233) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:603) ~[spring-context-6.2.2.jar:6.2.2]
	... 98 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'MAIL_HOST' in value "${MAIL_HOST}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:416) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:255) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:226) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveNestedPlaceholders(AbstractPropertyResolver.java:246) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:81) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:62) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:557) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition$Spec.collectProperties(OnPropertyCondition.java:121) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition.determineOutcome(OnPropertyCondition.java:71) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.OnPropertyCondition.getMatchOutcome(OnPropertyCondition.java:58) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.getConditionOutcome(AbstractNestedCondition.java:195) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberOutcomes.<init>(AbstractNestedCondition.java:189) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.lambda$getMatchOutcomes$0(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:986) ~[na:na]
	at org.springframework.util.MultiValueMapAdapter.forEach(MultiValueMapAdapter.java:179) ~[spring-core-6.2.2.jar:6.2.2]
	at java.base/java.util.Collections$UnmodifiableMap.forEach(Collections.java:1707) ~[na:na]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberConditions.getMatchOutcomes(AbstractNestedCondition.java:169) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition$MemberMatchOutcomes.<init>(AbstractNestedCondition.java:78) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.AbstractNestedCondition.getMatchOutcome(AbstractNestedCondition.java:63) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.4.2.jar:3.4.2]
	... 101 common frames omitted

2025-03-24T22:49:38.875+07:00  INFO 12500 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Starting NotificationControllerIntegrationTest using Java 21.0.4 with PID 12500 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T22:49:38.877+07:00  INFO 12500 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T22:49:39.983+07:00  INFO 12500 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T22:49:39.983+07:00  INFO 12500 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T22:49:39.984+07:00  INFO 12500 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T22:49:39.984+07:00  INFO 12500 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T22:49:39.984+07:00  INFO 12500 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T22:49:39.984+07:00  INFO 12500 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T22:49:39.985+07:00  INFO 12500 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T22:49:39.985+07:00  INFO 12500 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T22:49:39.985+07:00  INFO 12500 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T22:49:39.986+07:00  INFO 12500 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T22:49:40.554+07:00  INFO 12500 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T22:49:40.576+07:00 DEBUG 12500 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T22:49:40.611+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T22:49:40.612+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T22:49:40.808+07:00  INFO 12500 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 231 ms. Found 2 JPA repository interfaces.
2025-03-24T22:49:41.226+07:00  INFO 12500 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T22:49:42.162+07:00  INFO 12500 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T22:49:42.184+07:00  INFO 12500 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T22:49:42.185+07:00  INFO 12500 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T22:49:42.294+07:00  INFO 12500 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T22:49:42.294+07:00  INFO 12500 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3396 ms
2025-03-24T22:49:42.500+07:00  INFO 12500 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T22:49:42.502+07:00  INFO 12500 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T22:49:42.654+07:00 DEBUG 12500 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T22:49:42.654+07:00 DEBUG 12500 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T22:49:42.859+07:00  INFO 12500 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T22:49:42.966+07:00  INFO 12500 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T22:49:43.005+07:00  INFO 12500 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T22:49:43.335+07:00  INFO 12500 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T22:49:43.371+07:00  INFO 12500 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T22:49:43.591+07:00  INFO 12500 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T22:49:43.593+07:00  INFO 12500 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T22:49:43.620+07:00  WARN 12500 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T22:49:43.626+07:00  WARN 12500 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T22:49:43.646+07:00  INFO 12500 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T22:49:44.591+07:00  INFO 12500 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T22:49:44.609+07:00 DEBUG 12500 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T22:49:44.614+07:00  WARN 12500 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T22:49:44.618+07:00 DEBUG 12500 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T22:49:44.620+07:00 DEBUG 12500 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T22:49:44.627+07:00 DEBUG 12500 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T22:49:44.635+07:00 DEBUG 12500 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T22:49:44.642+07:00  INFO 12500 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T22:49:44.771+07:00 DEBUG 12500 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T22:49:44.791+07:00 DEBUG 12500 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T22:49:45.071+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T22:49:45.163+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T22:49:45.165+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T22:49:45.226+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T22:49:45.227+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T22:49:45.230+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T22:49:45.231+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T22:49:45.236+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T22:49:45.237+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T22:49:45.240+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T22:49:45.264+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T22:49:45.266+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T22:49:45.267+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T22:49:45.271+07:00 DEBUG 12500 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T22:49:45.372+07:00  WARN 12500 --- [notification-service] [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'notificationController' defined in file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\controller\NotificationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'notificationServiceImpl' defined in file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\service\impl\NotificationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'emailServiceImpl': Injection of autowired dependencies failed
2025-03-24T22:49:45.372+07:00  INFO 12500 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T22:49:45.373+07:00 DEBUG 12500 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T22:49:45.374+07:00 ERROR 12500 --- [notification-service] [main] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T22:49:45.374+07:00 DEBUG 12500 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T22:49:45.376+07:00 DEBUG 12500 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T22:49:45.380+07:00  INFO 12500 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T22:49:45.381+07:00  INFO 12500 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T22:49:45.384+07:00  INFO 12500 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-03-24T22:49:45.422+07:00  INFO 12500 --- [notification-service] [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-03-24T22:49:45.453+07:00 ERROR 12500 --- [notification-service] [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'notificationController' defined in file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\controller\NotificationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'notificationServiceImpl' defined in file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\service\impl\NotificationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'emailServiceImpl': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1093) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1030) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'notificationServiceImpl' defined in file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\service\impl\NotificationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'emailServiceImpl': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1631) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1519) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.2.jar:6.2.2]
	... 101 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'emailServiceImpl': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1631) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1519) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.2.jar:6.2.2]
	... 115 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'APP_FRONTEND_URL' in value "${APP_FRONTEND_URL}" <-- "${app.frontend-url}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:416) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:255) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:226) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:201) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:963) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1541) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1519) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.2.jar:6.2.2]
	... 127 common frames omitted

2025-03-24T22:49:45.465+07:00  WARN 12500 --- [notification-service] [main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest@d332ebc]

java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7e86ff3b testClass = com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest, locations = [], classes = [com.phuonghieuto.backend.notification_service.NotificationServiceApplication], contextInitializerClasses = [com.phuonghieuto.backend.notification_service.config.TestKeysInitializer], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["spring.main.allow-bean-definition-overriding=true", "spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.amqp.RabbitAutoConfiguration", "spring.rabbitmq.host=localhost", "spring.rabbitmq.port=5672", "spring.rabbitmq.username=guest", "spring.rabbitmq.password=guest", "spring.rabbitmq.enabled=false", "org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true", "server.port=0"], contextCustomizers = [[ImportsContextCustomizer@4936dca9 key = [org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d29b4ee, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1224144a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@2235eaab, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@5167f57d, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@3e2055d6, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@4b3fa0b3, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@4b86805d, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@6e234826], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'notificationController' defined in file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\controller\NotificationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'notificationServiceImpl' defined in file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\service\impl\NotificationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'emailServiceImpl': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1122) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1093) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1030) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	... 74 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'notificationServiceImpl' defined in file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\service\impl\NotificationServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 3: Error creating bean with name 'emailServiceImpl': Injection of autowired dependencies failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1381) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1218) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1631) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1519) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.2.jar:6.2.2]
	... 101 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'emailServiceImpl': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:515) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1445) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1631) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1519) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-6.2.2.jar:6.2.2]
	... 115 common frames omitted
Caused by: org.springframework.util.PlaceholderResolutionException: Could not resolve placeholder 'APP_FRONTEND_URL' in value "${APP_FRONTEND_URL}" <-- "${app.frontend-url}"
	at org.springframework.util.PlaceholderResolutionException.withValue(PlaceholderResolutionException.java:81) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser$ParsedValue.resolve(PlaceholderParser.java:416) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PlaceholderParser.replacePlaceholders(PlaceholderParser.java:128) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:118) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:114) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:255) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:226) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:201) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:963) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1541) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1519) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:785) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:768) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:146) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:509) ~[spring-beans-6.2.2.jar:6.2.2]
	... 127 common frames omitted

2025-03-24T23:03:17.102+07:00  INFO 9836 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Starting NotificationControllerIntegrationTest using Java 21.0.4 with PID 9836 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:03:17.104+07:00  INFO 9836 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:03:18.088+07:00  INFO 9836 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:18.088+07:00  INFO 9836 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:18.089+07:00  INFO 9836 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:18.089+07:00  INFO 9836 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:18.090+07:00  INFO 9836 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:18.090+07:00  INFO 9836 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:18.090+07:00  INFO 9836 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:18.091+07:00  INFO 9836 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:18.091+07:00  INFO 9836 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:18.092+07:00  INFO 9836 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:18.597+07:00  INFO 9836 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:03:18.616+07:00 DEBUG 9836 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:03:18.641+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:03:18.642+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:03:18.793+07:00  INFO 9836 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 174 ms. Found 2 JPA repository interfaces.
2025-03-24T23:03:19.171+07:00  INFO 9836 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:03:19.961+07:00  INFO 9836 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:03:19.979+07:00  INFO 9836 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:03:19.980+07:00  INFO 9836 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:03:20.084+07:00  INFO 9836 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:03:20.084+07:00  INFO 9836 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2962 ms
2025-03-24T23:03:20.276+07:00  INFO 9836 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:03:20.278+07:00  INFO 9836 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:03:20.404+07:00 DEBUG 9836 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:03:20.404+07:00 DEBUG 9836 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:03:20.593+07:00  INFO 9836 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:03:20.667+07:00  INFO 9836 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:03:20.699+07:00  INFO 9836 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:03:20.993+07:00  INFO 9836 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:03:21.024+07:00  INFO 9836 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:03:21.207+07:00  INFO 9836 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:03:21.208+07:00  INFO 9836 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:03:21.229+07:00  WARN 9836 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:03:21.235+07:00  WARN 9836 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:03:21.255+07:00  INFO 9836 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:03:22.049+07:00  INFO 9836 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:03:22.064+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:03:22.068+07:00  WARN 9836 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:03:22.073+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:03:22.074+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:03:22.081+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:03:22.088+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:03:22.100+07:00  INFO 9836 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:03:22.225+07:00 DEBUG 9836 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:03:22.243+07:00 DEBUG 9836 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:03:22.430+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:03:22.498+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:03:22.502+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:03:22.565+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:03:22.566+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:03:22.569+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:03:22.570+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:03:22.574+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:03:22.575+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:03:22.577+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:03:22.602+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:03:22.605+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:03:22.606+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:03:22.609+07:00 DEBUG 9836 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:03:23.006+07:00  WARN 9836 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:03:23.065+07:00  INFO 9836 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:03:24.299+07:00 DEBUG 9836 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:03:24.445+07:00 DEBUG 9836 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:03:24.584+07:00 DEBUG 9836 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:03:24.827+07:00  INFO 9836 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:03:25.194+07:00 DEBUG 9836 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:03:25.280+07:00 DEBUG 9836 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:03:25.863+07:00 DEBUG 9836 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:03:25.864+07:00 DEBUG 9836 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:03:25.865+07:00  INFO 9836 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:03:25.866+07:00  INFO 9836 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:03:25.869+07:00  INFO 9836 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-03-24T23:03:26.916+07:00  INFO 9836 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:03:26.938+07:00  INFO 9836 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:03:27.002+07:00  WARN 9836 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:03:27.319+07:00  INFO 9836 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 59951 (http) with context path '/api/v1'
2025-03-24T23:03:28.335+07:00  INFO 9836 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:03:28.355+07:00  INFO 9836 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Started NotificationControllerIntegrationTest in 12.755 seconds (process running for 14.07)
2025-03-24T23:03:28.621+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:29.154+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:29.166+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:29.168+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:29.172+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:29.273+07:00 DEBUG 9836 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUserNotifications(Authentication, Pageable)
2025-03-24T23:03:29.293+07:00  INFO 9836 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting notifications for user: test-user-id
2025-03-24T23:03:29.316+07:00 DEBUG 9836 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
    order by
        ne1_0.created_at desc,
        ne1_0.created_at 
    fetch
        first ? rows only
2025-03-24T23:03:29.352+07:00  WARN 9836 --- [notification-service] [main] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-03-24T23:03:29.359+07:00 DEBUG 9836 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:03:29.361+07:00 DEBUG 9836 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.phuonghieuto.backend.notification_service.model.notification.entity.Notif (truncated)...]
2025-03-24T23:03:29.506+07:00  INFO 9836 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:03:29.511+07:00  INFO 9836 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:03:29.525+07:00  INFO 9836 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:03:29.527+07:00 DEBUG 9836 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:03:29.528+07:00 ERROR 9836 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:03:29.528+07:00 DEBUG 9836 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:03:29.530+07:00 DEBUG 9836 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:03:29.533+07:00  INFO 9836 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:03:29.534+07:00  INFO 9836 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:03:37.762+07:00  INFO 18468 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Starting NotificationControllerIntegrationTest using Java 21.0.4 with PID 18468 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:03:37.764+07:00  INFO 18468 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:03:38.827+07:00  INFO 18468 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:38.828+07:00  INFO 18468 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:38.828+07:00  INFO 18468 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:38.828+07:00  INFO 18468 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:38.829+07:00  INFO 18468 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:38.829+07:00  INFO 18468 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:38.829+07:00  INFO 18468 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:38.829+07:00  INFO 18468 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:38.830+07:00  INFO 18468 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:38.831+07:00  INFO 18468 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:03:39.362+07:00  INFO 18468 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:03:39.383+07:00 DEBUG 18468 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:03:39.423+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:03:39.423+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:03:39.577+07:00  INFO 18468 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 191 ms. Found 2 JPA repository interfaces.
2025-03-24T23:03:40.024+07:00  INFO 18468 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:03:40.940+07:00  INFO 18468 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:03:40.958+07:00  INFO 18468 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:03:40.958+07:00  INFO 18468 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:03:41.060+07:00  INFO 18468 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:03:41.061+07:00  INFO 18468 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3277 ms
2025-03-24T23:03:41.270+07:00  INFO 18468 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:03:41.272+07:00  INFO 18468 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:03:41.401+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:03:41.402+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:03:41.591+07:00  INFO 18468 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:03:41.676+07:00  INFO 18468 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:03:41.716+07:00  INFO 18468 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:03:42.027+07:00  INFO 18468 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:03:42.058+07:00  INFO 18468 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:03:42.255+07:00  INFO 18468 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:03:42.257+07:00  INFO 18468 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:03:42.279+07:00  WARN 18468 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:03:42.284+07:00  WARN 18468 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:03:42.304+07:00  INFO 18468 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:03:43.193+07:00  INFO 18468 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:03:43.209+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:03:43.213+07:00  WARN 18468 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:03:43.217+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:03:43.219+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:03:43.232+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:03:43.242+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:03:43.248+07:00  INFO 18468 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:03:43.423+07:00 DEBUG 18468 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:03:43.439+07:00 DEBUG 18468 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:03:43.619+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:03:43.685+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:03:43.688+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:03:43.751+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:03:43.752+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:03:43.759+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:03:43.759+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:03:43.761+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:03:43.762+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:03:43.766+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:03:43.793+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:03:43.797+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:03:43.797+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:03:43.801+07:00 DEBUG 18468 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:03:44.250+07:00  WARN 18468 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:03:44.342+07:00  INFO 18468 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:03:45.703+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:03:45.872+07:00 DEBUG 18468 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:03:46.037+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:03:46.286+07:00  INFO 18468 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:03:46.647+07:00 DEBUG 18468 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:03:46.738+07:00 DEBUG 18468 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:03:47.298+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:03:47.298+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:03:47.300+07:00  INFO 18468 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:03:47.300+07:00  INFO 18468 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:03:47.304+07:00  INFO 18468 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-03-24T23:03:48.345+07:00  INFO 18468 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:03:48.370+07:00  INFO 18468 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:03:48.440+07:00  WARN 18468 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:03:48.736+07:00  INFO 18468 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 59978 (http) with context path '/api/v1'
2025-03-24T23:03:49.752+07:00  INFO 18468 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:03:49.771+07:00  INFO 18468 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Started NotificationControllerIntegrationTest in 13.555 seconds (process running for 14.997)
2025-03-24T23:03:50.037+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:50.578+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:50.597+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:50.600+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:50.604+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:50.769+07:00 DEBUG 18468 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUserNotifications(Authentication, Pageable)
2025-03-24T23:03:50.799+07:00  INFO 18468 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting notifications for user: test-user-id
2025-03-24T23:03:50.834+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
    order by
        ne1_0.created_at desc,
        ne1_0.created_at 
    fetch
        first ? rows only
2025-03-24T23:03:50.888+07:00  WARN 18468 --- [notification-service] [main] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-03-24T23:03:50.897+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:03:50.899+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.phuonghieuto.backend.notification_service.model.notification.entity.Notif (truncated)...]
2025-03-24T23:03:51.052+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:51.062+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.064+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.065+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.067+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.115+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:51.133+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.136+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.139+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.151+07:00 DEBUG 18468 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#countUnreadNotifications(Authentication)
2025-03-24T23:03:51.152+07:00  INFO 18468 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Counting unread notifications for user
2025-03-24T23:03:51.159+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        count(ne1_0.id) 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read)
2025-03-24T23:03:51.165+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:03:51.165+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [2]
2025-03-24T23:03:51.195+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:51.201+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.203+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.206+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.244+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:51.258+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.282+07:00 DEBUG 18468 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-24T23:03:51.318+07:00  INFO 18468 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: e3caab06-6558-43a1-8b56-db340e47d376
2025-03-24T23:03:51.334+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:03:51.346+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:03:51.355+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:03:51.359+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [NotificationEntity(id=e3caab06-6558-43a1-8b56-db340e47d376, userId=test-user-id, title=Task Due Soon (truncated)...]
2025-03-24T23:03:51.369+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:03:51.383+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:51.388+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.404+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.407+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.410+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.412+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.424+07:00 DEBUG 18468 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAllAsRead(Authentication)
2025-03-24T23:03:51.425+07:00  INFO 18468 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking all notifications as read for user
2025-03-24T23:03:51.429+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-24T23:03:51.433+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:03:51.435+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:03:51.437+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:03:51.439+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:03:51.439+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:03:51.485+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-24T23:03:51.488+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-24T23:03:51.500+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:51.503+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.505+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.505+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.506+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.524+07:00 DEBUG 18468 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-24T23:03:51.526+07:00  INFO 18468 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: non-existent-id
2025-03-24T23:03:51.526+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:03:51.530+07:00 DEBUG 18468 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleNotificationNotFoundException(NotificationNotFoundException)
2025-03-24T23:03:51.531+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:03:51.533+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=Notification not found, timestamp=2025-03-24T23:03:51.530298, status=404}]
2025-03-24T23:03:51.535+07:00 DEBUG 18468 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.phuonghieuto.backend.notification_service.exception.NotificationNotFoundException: Notification not found]
2025-03-24T23:03:51.547+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:51.565+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:51.583+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:51.589+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.591+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.593+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:03:51.603+07:00 DEBUG 18468 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUnreadNotifications(Authentication)
2025-03-24T23:03:51.603+07:00  INFO 18468 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting unread notifications for user
2025-03-24T23:03:51.605+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-24T23:03:51.607+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:03:51.608+07:00 DEBUG 18468 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[NotificationEntity(id=faff7f76-ecee-4053-bece-c2eff9f0f594, userId=test-user-id, title=Task Overdue (truncated)...]
2025-03-24T23:03:51.619+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:03:51.623+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.624+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.624+07:00 DEBUG 18468 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:03:51.646+07:00  INFO 18468 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:03:51.651+07:00  INFO 18468 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:03:51.666+07:00  INFO 18468 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:03:51.667+07:00 DEBUG 18468 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:03:51.668+07:00 ERROR 18468 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:03:51.668+07:00 DEBUG 18468 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:03:51.671+07:00 DEBUG 18468 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:03:51.673+07:00  INFO 18468 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:03:51.675+07:00  INFO 18468 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:11:30.818+07:00  INFO 14800 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Starting NotificationPreferenceControllerIntegrationTest using Java 21.0.4 with PID 14800 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:11:30.819+07:00  INFO 14800 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:11:31.918+07:00  INFO 14800 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:11:31.918+07:00  INFO 14800 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:11:31.919+07:00  INFO 14800 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:11:31.919+07:00  INFO 14800 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:11:31.919+07:00  INFO 14800 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:11:31.920+07:00  INFO 14800 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:11:31.920+07:00  INFO 14800 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:11:31.921+07:00  INFO 14800 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:11:31.921+07:00  INFO 14800 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:11:31.921+07:00  INFO 14800 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:11:32.486+07:00  INFO 14800 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:11:32.508+07:00 DEBUG 14800 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:11:32.544+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:11:32.545+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:11:32.736+07:00  INFO 14800 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 226 ms. Found 2 JPA repository interfaces.
2025-03-24T23:11:33.262+07:00  INFO 14800 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:11:34.119+07:00  INFO 14800 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:11:34.138+07:00  INFO 14800 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:11:34.138+07:00  INFO 14800 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:11:34.240+07:00  INFO 14800 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:11:34.241+07:00  INFO 14800 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3403 ms
2025-03-24T23:11:34.457+07:00  INFO 14800 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:11:34.459+07:00  INFO 14800 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:11:34.593+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:11:34.593+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:11:34.790+07:00  INFO 14800 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:11:34.860+07:00  INFO 14800 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:11:34.894+07:00  INFO 14800 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:11:35.199+07:00  INFO 14800 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:11:35.233+07:00  INFO 14800 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:11:35.433+07:00  INFO 14800 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:11:35.435+07:00  INFO 14800 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:11:35.458+07:00  WARN 14800 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:11:35.464+07:00  WARN 14800 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:11:35.484+07:00  INFO 14800 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:11:36.329+07:00  INFO 14800 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:11:36.344+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:11:36.349+07:00  WARN 14800 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:11:36.354+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:11:36.356+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:11:36.362+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:11:36.370+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:11:36.375+07:00  INFO 14800 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:11:36.534+07:00 DEBUG 14800 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:11:36.554+07:00 DEBUG 14800 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:11:36.734+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:11:36.791+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:11:36.793+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:11:36.851+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:11:36.852+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:11:36.859+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:11:36.859+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:11:36.861+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:11:36.862+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:11:36.868+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:11:36.898+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:11:36.902+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:11:36.903+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:11:36.907+07:00 DEBUG 14800 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:11:37.356+07:00  WARN 14800 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:11:37.424+07:00  INFO 14800 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:11:38.731+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:11:38.887+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:11:39.043+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:11:39.308+07:00  INFO 14800 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:11:39.684+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:11:39.784+07:00 DEBUG 14800 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:11:40.405+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:11:40.405+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:11:40.407+07:00  INFO 14800 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:11:40.408+07:00  INFO 14800 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:11:40.410+07:00  INFO 14800 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-03-24T23:11:41.464+07:00  INFO 14800 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:11:41.502+07:00  INFO 14800 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:11:41.602+07:00  WARN 14800 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:11:41.923+07:00  INFO 14800 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 60451 (http) with context path '/api/v1'
2025-03-24T23:11:42.945+07:00  INFO 14800 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:11:42.965+07:00  INFO 14800 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Started NotificationPreferenceControllerIntegrationTest in 13.72 seconds (process running for 15.149)
2025-03-24T23:11:43.271+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:43.741+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:43.862+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:11:43.894+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 23, end: 6
2025-03-24T23:11:43.921+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:43.937+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:11:43.979+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:43.981+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@7 (truncated)...]
2025-03-24T23:11:44.103+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.138+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.145+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:11:44.161+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:44.177+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:11:44.186+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type INVALID_TYPE to false for user: test-user-id
2025-03-24T23:11:44.188+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.189+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.190+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:11:44.208+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.210+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:11:44.226+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:44.241+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:11:44.241+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 24, end: 6
2025-03-24T23:11:44.242+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.242+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:11:44.259+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:11:44.260+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 22, end: -1
2025-03-24T23:11:44.261+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.261+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:11:44.267+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.281+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.282+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:11:44.293+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:44.305+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:11:44.306+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type DUE_SOON to false for user: test-user-id
2025-03-24T23:11:44.309+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.312+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:11:44.313+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.314+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@7 (truncated)...]
2025-03-24T23:11:44.319+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.331+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:11:44.331+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type OVERDUE to false for user: test-user-id
2025-03-24T23:11:44.333+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.335+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:11:44.337+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.338+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@5 (truncated)...]
2025-03-24T23:11:44.344+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.358+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.359+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:11:44.370+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:44.381+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#resetToDefaults(Authentication)
2025-03-24T23:11:44.382+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Resetting notification preferences to defaults for user: test-user-id
2025-03-24T23:11:44.383+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.396+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:11:44.400+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.401+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@5 (truncated)...]
2025-03-24T23:11:44.408+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.424+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.426+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:11:44.440+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:44.457+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-24T23:11:44.495+07:00 DEBUG 14800 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@4 (truncated)...]
2025-03-24T23:11:44.498+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-24T23:11:44.500+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.504+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:11:44.506+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.506+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:11:44.514+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.531+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.533+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:11:44.547+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:44.563+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:11:44.564+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:11:44.566+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.568+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.569+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:11:44.586+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.589+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:11:44.689+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.700+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:44.709+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleWebsocketNotifications(Authentication, boolean)
2025-03-24T23:11:44.711+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling websocket notifications to false for user: test-user-id
2025-03-24T23:11:44.714+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.716+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:11:44.717+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.718+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:11:44.723+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.733+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.735+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:11:44.749+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:11:44.750+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:11:44.751+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.754+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.754+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:11:44.775+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.782+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:44.793+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-24T23:11:44.793+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to false for user: test-user-id
2025-03-24T23:11:44.796+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.798+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:11:44.800+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.800+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@4 (truncated)...]
2025-03-24T23:11:44.805+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.819+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-24T23:11:44.820+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to true for user: test-user-id
2025-03-24T23:11:44.822+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.824+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:11:44.825+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.825+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@5 (truncated)...]
2025-03-24T23:11:44.831+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.841+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.843+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:11:44.851+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:44.861+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:11:44.862+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: false, start: null, end: null
2025-03-24T23:11:44.865+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.867+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:11:44.869+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.869+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:11:44.874+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.883+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:11:44.885+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:11:44.893+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:11:44.904+07:00 DEBUG 14800 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-24T23:11:44.906+07:00 DEBUG 14800 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@5 (truncated)...]
2025-03-24T23:11:44.906+07:00  INFO 14800 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-24T23:11:44.908+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.910+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:11:44.912+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:11:44.912+07:00 DEBUG 14800 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@4 (truncated)...]
2025-03-24T23:11:44.917+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.921+07:00 DEBUG 14800 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:11:44.935+07:00  INFO 14800 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:11:44.942+07:00  INFO 14800 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:11:44.954+07:00  INFO 14800 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:11:44.956+07:00 DEBUG 14800 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:11:44.956+07:00 ERROR 14800 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:11:44.956+07:00 DEBUG 14800 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:11:44.958+07:00 DEBUG 14800 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:11:44.960+07:00  INFO 14800 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:11:44.963+07:00  INFO 14800 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:13:32.232+07:00  INFO 9304 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Starting NotificationPreferenceControllerIntegrationTest using Java 21.0.4 with PID 9304 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:13:32.234+07:00  INFO 9304 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:13:33.268+07:00  INFO 9304 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:13:33.268+07:00  INFO 9304 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:13:33.268+07:00  INFO 9304 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:13:33.269+07:00  INFO 9304 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:13:33.269+07:00  INFO 9304 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:13:33.269+07:00  INFO 9304 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:13:33.270+07:00  INFO 9304 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:13:33.270+07:00  INFO 9304 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:13:33.270+07:00  INFO 9304 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:13:33.270+07:00  INFO 9304 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:13:33.752+07:00  INFO 9304 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:13:33.771+07:00 DEBUG 9304 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:13:33.795+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:13:33.796+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:13:33.940+07:00  INFO 9304 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 166 ms. Found 2 JPA repository interfaces.
2025-03-24T23:13:34.314+07:00  INFO 9304 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:13:35.131+07:00  INFO 9304 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:13:35.148+07:00  INFO 9304 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:13:35.149+07:00  INFO 9304 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:13:35.255+07:00  INFO 9304 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:13:35.255+07:00  INFO 9304 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3005 ms
2025-03-24T23:13:35.454+07:00  INFO 9304 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:13:35.456+07:00  INFO 9304 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:13:35.587+07:00 DEBUG 9304 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:13:35.588+07:00 DEBUG 9304 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:13:35.837+07:00  INFO 9304 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:13:35.912+07:00  INFO 9304 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:13:35.953+07:00  INFO 9304 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:13:36.284+07:00  INFO 9304 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:13:36.324+07:00  INFO 9304 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:13:36.516+07:00  INFO 9304 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:13:36.518+07:00  INFO 9304 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:13:36.539+07:00  WARN 9304 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:13:36.544+07:00  WARN 9304 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:13:36.563+07:00  INFO 9304 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:13:37.401+07:00  INFO 9304 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:13:37.416+07:00 DEBUG 9304 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:13:37.421+07:00  WARN 9304 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:13:37.432+07:00 DEBUG 9304 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:13:37.433+07:00 DEBUG 9304 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:13:37.439+07:00 DEBUG 9304 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:13:37.447+07:00 DEBUG 9304 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:13:37.453+07:00  INFO 9304 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:13:37.576+07:00 DEBUG 9304 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:13:37.592+07:00 DEBUG 9304 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:13:37.746+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:13:37.808+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:13:37.811+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:13:37.877+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:13:37.878+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:13:37.882+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:13:37.883+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:13:37.887+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:13:37.888+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:13:37.894+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:13:37.922+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:13:37.925+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:13:37.926+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:13:37.929+07:00 DEBUG 9304 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:13:38.305+07:00  WARN 9304 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:13:38.369+07:00  INFO 9304 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:13:39.668+07:00 DEBUG 9304 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:13:39.840+07:00 DEBUG 9304 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:13:40.004+07:00 DEBUG 9304 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:13:40.265+07:00  INFO 9304 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:13:40.643+07:00 DEBUG 9304 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:13:40.718+07:00 DEBUG 9304 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:13:41.207+07:00 DEBUG 9304 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:13:41.208+07:00 DEBUG 9304 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:13:41.209+07:00  INFO 9304 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:13:41.210+07:00  INFO 9304 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:13:41.212+07:00  INFO 9304 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-03-24T23:13:42.258+07:00  INFO 9304 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:13:42.281+07:00  INFO 9304 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:13:42.336+07:00  WARN 9304 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:13:42.596+07:00  INFO 9304 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 60565 (http) with context path '/api/v1'
2025-03-24T23:13:43.605+07:00  INFO 9304 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:13:43.622+07:00  INFO 9304 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Started NotificationPreferenceControllerIntegrationTest in 12.877 seconds (process running for 14.167)
2025-03-24T23:13:43.843+07:00 DEBUG 9304 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:13:44.297+07:00 DEBUG 9304 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:13:44.312+07:00  INFO 9304 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:13:44.334+07:00 DEBUG 9304 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:13:44.364+07:00 DEBUG 9304 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:13:44.366+07:00 DEBUG 9304 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@7 (truncated)...]
2025-03-24T23:13:44.491+07:00  INFO 9304 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:13:44.499+07:00  INFO 9304 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:13:44.514+07:00  INFO 9304 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:13:44.515+07:00 DEBUG 9304 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:13:44.517+07:00 ERROR 9304 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:13:44.517+07:00 DEBUG 9304 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:13:44.520+07:00 DEBUG 9304 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:13:44.524+07:00  INFO 9304 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:13:44.526+07:00  INFO 9304 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:16:30.892+07:00  INFO 21324 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Starting NotificationPreferenceControllerIntegrationTest using Java 21.0.4 with PID 21324 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:16:30.894+07:00  INFO 21324 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:16:31.883+07:00  INFO 21324 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:16:31.884+07:00  INFO 21324 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:16:31.884+07:00  INFO 21324 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:16:31.884+07:00  INFO 21324 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:16:31.885+07:00  INFO 21324 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:16:31.885+07:00  INFO 21324 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:16:31.885+07:00  INFO 21324 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:16:31.885+07:00  INFO 21324 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:16:31.886+07:00  INFO 21324 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:16:31.887+07:00  INFO 21324 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:16:32.427+07:00  INFO 21324 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:16:32.447+07:00 DEBUG 21324 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:16:32.473+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:16:32.473+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:16:32.626+07:00  INFO 21324 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 177 ms. Found 2 JPA repository interfaces.
2025-03-24T23:16:33.021+07:00  INFO 21324 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:16:33.847+07:00  INFO 21324 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:16:33.862+07:00  INFO 21324 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:16:33.863+07:00  INFO 21324 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:16:33.956+07:00  INFO 21324 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:16:33.957+07:00  INFO 21324 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3044 ms
2025-03-24T23:16:34.145+07:00  INFO 21324 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:16:34.147+07:00  INFO 21324 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:16:34.275+07:00 DEBUG 21324 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:16:34.275+07:00 DEBUG 21324 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:16:34.452+07:00  INFO 21324 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:16:34.531+07:00  INFO 21324 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:16:34.564+07:00  INFO 21324 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:16:34.854+07:00  INFO 21324 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:16:34.886+07:00  INFO 21324 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:16:35.093+07:00  INFO 21324 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:16:35.095+07:00  INFO 21324 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:16:35.116+07:00  WARN 21324 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:16:35.121+07:00  WARN 21324 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:16:35.140+07:00  INFO 21324 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:16:35.987+07:00  INFO 21324 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:16:36.006+07:00 DEBUG 21324 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:16:36.011+07:00  WARN 21324 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:16:36.017+07:00 DEBUG 21324 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:16:36.018+07:00 DEBUG 21324 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:16:36.024+07:00 DEBUG 21324 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:16:36.035+07:00 DEBUG 21324 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:16:36.042+07:00  INFO 21324 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:16:36.182+07:00 DEBUG 21324 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:16:36.204+07:00 DEBUG 21324 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:16:36.360+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:16:36.413+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:16:36.416+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:16:36.470+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:16:36.470+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:16:36.473+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:16:36.474+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:16:36.478+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:16:36.479+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:16:36.482+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:16:36.510+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:16:36.513+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:16:36.514+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:16:36.518+07:00 DEBUG 21324 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:16:36.912+07:00  WARN 21324 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:16:36.993+07:00  INFO 21324 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:16:38.224+07:00 DEBUG 21324 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:16:38.365+07:00 DEBUG 21324 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:16:38.508+07:00 DEBUG 21324 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:16:38.839+07:00  INFO 21324 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:16:39.217+07:00 DEBUG 21324 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:16:39.315+07:00 DEBUG 21324 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:16:39.908+07:00 DEBUG 21324 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:16:39.909+07:00 DEBUG 21324 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:16:39.910+07:00  INFO 21324 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:16:39.911+07:00  INFO 21324 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:16:39.914+07:00  INFO 21324 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-03-24T23:16:40.957+07:00  INFO 21324 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:16:40.992+07:00  INFO 21324 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:16:41.059+07:00  WARN 21324 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:16:41.345+07:00  INFO 21324 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 60932 (http) with context path '/api/v1'
2025-03-24T23:16:42.358+07:00  INFO 21324 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:16:42.377+07:00  INFO 21324 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Started NotificationPreferenceControllerIntegrationTest in 12.976 seconds (process running for 14.332)
2025-03-24T23:16:42.689+07:00 DEBUG 21324 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:16:43.267+07:00 DEBUG 21324 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:16:43.282+07:00  INFO 21324 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:16:43.304+07:00 DEBUG 21324 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:16:43.335+07:00 DEBUG 21324 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:16:43.337+07:00 DEBUG 21324 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:16:43.472+07:00 DEBUG 21324 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:16:43.515+07:00  INFO 21324 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:16:43.522+07:00  INFO 21324 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:16:43.538+07:00  INFO 21324 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:16:43.539+07:00 DEBUG 21324 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:16:43.540+07:00 ERROR 21324 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:16:43.541+07:00 DEBUG 21324 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:16:43.543+07:00 DEBUG 21324 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:16:43.546+07:00  INFO 21324 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:16:43.549+07:00  INFO 21324 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:19:15.425+07:00  INFO 22248 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Starting NotificationPreferenceControllerIntegrationTest using Java 21.0.4 with PID 22248 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:19:15.430+07:00  INFO 22248 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:19:16.724+07:00  INFO 22248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:19:16.725+07:00  INFO 22248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:19:16.726+07:00  INFO 22248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:19:16.726+07:00  INFO 22248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:19:16.727+07:00  INFO 22248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:19:16.727+07:00  INFO 22248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:19:16.727+07:00  INFO 22248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:19:16.728+07:00  INFO 22248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:19:16.728+07:00  INFO 22248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:19:16.728+07:00  INFO 22248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:19:17.490+07:00  INFO 22248 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:19:17.516+07:00 DEBUG 22248 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:19:17.552+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:19:17.553+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:19:17.750+07:00  INFO 22248 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 230 ms. Found 2 JPA repository interfaces.
2025-03-24T23:19:18.263+07:00  INFO 22248 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:19:19.423+07:00  INFO 22248 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:19:19.451+07:00  INFO 22248 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:19:19.452+07:00  INFO 22248 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:19:19.570+07:00  INFO 22248 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:19:19.570+07:00  INFO 22248 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4108 ms
2025-03-24T23:19:19.888+07:00  INFO 22248 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:19:19.893+07:00  INFO 22248 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:19:20.143+07:00 DEBUG 22248 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:19:20.144+07:00 DEBUG 22248 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:19:20.427+07:00  INFO 22248 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:19:20.524+07:00  INFO 22248 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:19:20.577+07:00  INFO 22248 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:19:20.980+07:00  INFO 22248 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:19:21.014+07:00  INFO 22248 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:19:21.259+07:00  INFO 22248 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:19:21.262+07:00  INFO 22248 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:19:21.285+07:00  WARN 22248 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:19:21.290+07:00  WARN 22248 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:19:21.313+07:00  INFO 22248 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:19:22.481+07:00  INFO 22248 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:19:22.513+07:00 DEBUG 22248 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:19:22.519+07:00  WARN 22248 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:19:22.525+07:00 DEBUG 22248 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:19:22.526+07:00 DEBUG 22248 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:19:22.534+07:00 DEBUG 22248 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:19:22.541+07:00 DEBUG 22248 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:19:22.548+07:00  INFO 22248 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:19:22.738+07:00 DEBUG 22248 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:19:22.777+07:00 DEBUG 22248 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:19:23.024+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:19:23.127+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:19:23.133+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:19:23.201+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:19:23.202+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:19:23.206+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:19:23.207+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:19:23.209+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:19:23.210+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:19:23.218+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:19:23.248+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:19:23.251+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:19:23.252+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:19:23.258+07:00 DEBUG 22248 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:19:23.698+07:00  WARN 22248 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:19:23.772+07:00  INFO 22248 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:19:25.195+07:00 DEBUG 22248 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:19:25.360+07:00 DEBUG 22248 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:19:25.513+07:00 DEBUG 22248 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:19:25.791+07:00  INFO 22248 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:19:26.264+07:00 DEBUG 22248 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:19:26.368+07:00 DEBUG 22248 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:19:26.986+07:00 DEBUG 22248 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:19:26.986+07:00 DEBUG 22248 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:19:26.988+07:00  INFO 22248 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:19:26.989+07:00  INFO 22248 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:19:26.993+07:00  INFO 22248 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-03-24T23:19:28.038+07:00  INFO 22248 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:19:28.068+07:00  INFO 22248 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:19:28.166+07:00  WARN 22248 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:19:28.481+07:00  INFO 22248 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61278 (http) with context path '/api/v1'
2025-03-24T23:19:29.496+07:00  INFO 22248 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:19:29.514+07:00  INFO 22248 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Started NotificationPreferenceControllerIntegrationTest in 15.783 seconds (process running for 17.275)
2025-03-24T23:19:29.766+07:00 DEBUG 22248 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:19:30.270+07:00 DEBUG 22248 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:19:30.289+07:00  INFO 22248 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:19:30.310+07:00 DEBUG 22248 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:19:30.330+07:00 DEBUG 22248 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.id=?
2025-03-24T23:19:30.336+07:00 DEBUG 22248 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.id=?
2025-03-24T23:19:30.346+07:00 DEBUG 22248 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleGlobalException(Exception)
2025-03-24T23:19:30.360+07:00 DEBUG 22248 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:19:30.361+07:00 DEBUG 22248 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=An unexpected error occurred, error=Row was updated or deleted by another transaction (or u (truncated)...]
2025-03-24T23:19:30.372+07:00 DEBUG 22248 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.orm.ObjectOptimisticLockingFailureException: Row was updated or deleted by another transaction (or unsaved-value mapping was incorrect): [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity#d81136e6-2728-4879-a46b-49d965acb854]]
2025-03-24T23:19:30.426+07:00  INFO 22248 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:19:30.432+07:00  INFO 22248 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:19:30.451+07:00  INFO 22248 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:19:30.452+07:00 DEBUG 22248 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:19:30.453+07:00 ERROR 22248 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:19:30.454+07:00 DEBUG 22248 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:19:30.457+07:00 DEBUG 22248 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:19:30.462+07:00  INFO 22248 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:19:30.465+07:00  INFO 22248 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:21:52.736+07:00  INFO 18872 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Starting NotificationPreferenceControllerIntegrationTest using Java 21.0.4 with PID 18872 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:21:52.738+07:00  INFO 18872 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:21:53.774+07:00  INFO 18872 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:21:53.775+07:00  INFO 18872 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:21:53.775+07:00  INFO 18872 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:21:53.775+07:00  INFO 18872 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:21:53.776+07:00  INFO 18872 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:21:53.776+07:00  INFO 18872 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:21:53.776+07:00  INFO 18872 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:21:53.777+07:00  INFO 18872 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:21:53.777+07:00  INFO 18872 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:21:53.777+07:00  INFO 18872 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:21:54.394+07:00  INFO 18872 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:21:54.422+07:00 DEBUG 18872 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:21:54.454+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:21:54.454+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:21:54.643+07:00  INFO 18872 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 217 ms. Found 2 JPA repository interfaces.
2025-03-24T23:21:55.057+07:00  INFO 18872 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:21:55.869+07:00  INFO 18872 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:21:55.886+07:00  INFO 18872 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:21:55.886+07:00  INFO 18872 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:21:55.991+07:00  INFO 18872 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:21:55.992+07:00  INFO 18872 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3233 ms
2025-03-24T23:21:56.200+07:00  INFO 18872 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:21:56.203+07:00  INFO 18872 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:21:56.332+07:00 DEBUG 18872 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:21:56.332+07:00 DEBUG 18872 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:21:56.503+07:00  INFO 18872 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:21:56.572+07:00  INFO 18872 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:21:56.610+07:00  INFO 18872 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:21:56.892+07:00  INFO 18872 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:21:56.924+07:00  INFO 18872 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:21:57.123+07:00  INFO 18872 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:21:57.125+07:00  INFO 18872 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:21:57.146+07:00  WARN 18872 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:21:57.151+07:00  WARN 18872 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:21:57.171+07:00  INFO 18872 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:21:58.012+07:00  INFO 18872 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:21:58.028+07:00 DEBUG 18872 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:21:58.032+07:00  WARN 18872 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:21:58.038+07:00 DEBUG 18872 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:21:58.040+07:00 DEBUG 18872 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:21:58.045+07:00 DEBUG 18872 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:21:58.053+07:00 DEBUG 18872 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:21:58.058+07:00  INFO 18872 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:21:58.198+07:00 DEBUG 18872 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:21:58.214+07:00 DEBUG 18872 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:21:58.380+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:21:58.440+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:21:58.442+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:21:58.506+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:21:58.507+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:21:58.510+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:21:58.510+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:21:58.512+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:21:58.513+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:21:58.518+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:21:58.541+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:21:58.545+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:21:58.545+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:21:58.549+07:00 DEBUG 18872 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:21:58.952+07:00  WARN 18872 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:21:59.017+07:00  INFO 18872 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:22:00.250+07:00 DEBUG 18872 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:22:00.395+07:00 DEBUG 18872 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:22:00.536+07:00 DEBUG 18872 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:22:00.789+07:00  INFO 18872 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:22:01.169+07:00 DEBUG 18872 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:22:01.255+07:00 DEBUG 18872 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:22:01.866+07:00 DEBUG 18872 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:22:01.866+07:00 DEBUG 18872 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:22:01.869+07:00  INFO 18872 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:22:01.869+07:00  INFO 18872 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:22:01.872+07:00  INFO 18872 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-03-24T23:22:02.917+07:00  INFO 18872 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:22:02.959+07:00  INFO 18872 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:22:03.245+07:00  WARN 18872 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:22:03.698+07:00  INFO 18872 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61353 (http) with context path '/api/v1'
2025-03-24T23:22:04.706+07:00  INFO 18872 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:22:04.726+07:00  INFO 18872 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Started NotificationPreferenceControllerIntegrationTest in 13.508 seconds (process running for 14.827)
2025-03-24T23:22:04.965+07:00 DEBUG 18872 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:05.426+07:00 DEBUG 18872 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:22:05.442+07:00  INFO 18872 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:22:05.465+07:00 DEBUG 18872 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:05.510+07:00 DEBUG 18872 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:05.552+07:00 DEBUG 18872 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:05.554+07:00 DEBUG 18872 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:22:05.689+07:00 DEBUG 18872 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:05.720+07:00  INFO 18872 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:22:05.726+07:00  INFO 18872 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:22:05.745+07:00  INFO 18872 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:22:05.746+07:00 DEBUG 18872 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:22:05.747+07:00 ERROR 18872 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:22:05.747+07:00 DEBUG 18872 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:22:05.750+07:00 DEBUG 18872 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:22:05.753+07:00  INFO 18872 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:22:05.755+07:00  INFO 18872 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:22:32.217+07:00  INFO 15580 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Starting NotificationControllerIntegrationTest using Java 21.0.4 with PID 15580 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:22:32.219+07:00  INFO 15580 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:22:33.726+07:00  INFO 15580 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:22:33.727+07:00  INFO 15580 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:22:33.727+07:00  INFO 15580 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:22:33.727+07:00  INFO 15580 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:22:33.729+07:00  INFO 15580 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:22:33.729+07:00  INFO 15580 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:22:33.730+07:00  INFO 15580 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:22:33.730+07:00  INFO 15580 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:22:33.730+07:00  INFO 15580 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:22:33.731+07:00  INFO 15580 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:22:34.623+07:00  INFO 15580 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:22:34.667+07:00 DEBUG 15580 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:22:34.710+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:22:34.711+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:22:34.782+07:00  INFO 15580 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 2 JPA repository interfaces.
2025-03-24T23:22:35.407+07:00  INFO 15580 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:22:36.773+07:00  INFO 15580 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:22:36.801+07:00  INFO 15580 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:22:36.805+07:00  INFO 15580 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:22:36.988+07:00  INFO 15580 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:22:36.988+07:00  INFO 15580 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4739 ms
2025-03-24T23:22:37.458+07:00  INFO 15580 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:22:37.460+07:00  INFO 15580 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:22:37.886+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:22:37.888+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:22:38.443+07:00  INFO 15580 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:22:38.660+07:00  INFO 15580 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:22:38.760+07:00  INFO 15580 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:22:39.074+07:00  INFO 15580 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:22:39.150+07:00  INFO 15580 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:22:39.676+07:00  INFO 15580 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:22:39.679+07:00  INFO 15580 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:22:39.710+07:00  WARN 15580 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:22:39.720+07:00  WARN 15580 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:22:39.760+07:00  INFO 15580 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:22:41.316+07:00  INFO 15580 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:22:41.347+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:22:41.354+07:00  WARN 15580 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:22:41.359+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:22:41.362+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:22:41.373+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:22:41.387+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:22:41.399+07:00  INFO 15580 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:22:41.703+07:00 DEBUG 15580 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:22:41.732+07:00 DEBUG 15580 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:22:42.029+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:22:42.146+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:22:42.151+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:22:42.255+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:22:42.257+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:22:42.261+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:22:42.262+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:22:42.269+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:22:42.271+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:22:42.282+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:22:42.350+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:22:42.354+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:22:42.355+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:22:42.362+07:00 DEBUG 15580 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:22:43.168+07:00  WARN 15580 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:22:43.300+07:00  INFO 15580 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:22:44.403+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:22:44.580+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:22:44.866+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:22:45.516+07:00  INFO 15580 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:22:46.392+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:22:46.581+07:00 DEBUG 15580 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:22:47.690+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:22:47.690+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:22:47.691+07:00  INFO 15580 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:22:47.691+07:00  INFO 15580 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:22:47.699+07:00  INFO 15580 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 8 ms
2025-03-24T23:22:48.751+07:00  INFO 15580 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:22:48.776+07:00  INFO 15580 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:22:48.933+07:00  WARN 15580 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:22:49.329+07:00  INFO 15580 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61393 (http) with context path '/api/v1'
2025-03-24T23:22:50.348+07:00  INFO 15580 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:22:50.377+07:00  INFO 15580 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Started NotificationControllerIntegrationTest in 19.973 seconds (process running for 30.983)
2025-03-24T23:22:50.727+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:50.849+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:50.859+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:50.864+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:50.867+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:50.912+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUserNotifications(Authentication, Pageable)
2025-03-24T23:22:50.915+07:00  INFO 15580 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting notifications for user: test-user-id
2025-03-24T23:22:50.935+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
    order by
        ne1_0.created_at desc,
        ne1_0.created_at 
    fetch
        first ? rows only
2025-03-24T23:22:50.947+07:00  WARN 15580 --- [notification-service] [main] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-03-24T23:22:50.951+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:50.952+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.phuonghieuto.backend.notification_service.model.notification.entity.Notif (truncated)...]
2025-03-24T23:22:51.017+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:51.048+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.053+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.055+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.056+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.105+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:51.115+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.126+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.130+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.145+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#countUnreadNotifications(Authentication)
2025-03-24T23:22:51.160+07:00  INFO 15580 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Counting unread notifications for user
2025-03-24T23:22:51.171+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        count(ne1_0.id) 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read)
2025-03-24T23:22:51.180+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.180+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [2]
2025-03-24T23:22:51.199+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:51.203+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.204+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.205+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.240+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:51.251+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.266+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-24T23:22:51.273+07:00  INFO 15580 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: 1d1e514d-1787-4309-b012-02c6c6997bf7
2025-03-24T23:22:51.287+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:22:51.303+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:22:51.321+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.336+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [NotificationEntity(id=1d1e514d-1787-4309-b012-02c6c6997bf7, userId=test-user-id, title=Task Due Soon (truncated)...]
2025-03-24T23:22:51.353+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:22:51.377+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:51.382+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.393+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.397+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.401+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.404+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.417+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAllAsRead(Authentication)
2025-03-24T23:22:51.418+07:00  INFO 15580 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking all notifications as read for user
2025-03-24T23:22:51.421+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-24T23:22:51.426+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:22:51.428+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:22:51.430+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:22:51.433+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.433+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:22:51.508+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-24T23:22:51.512+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-24T23:22:51.525+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:51.528+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.529+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.530+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.531+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.544+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-24T23:22:51.545+07:00  INFO 15580 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: non-existent-id
2025-03-24T23:22:51.545+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:22:51.549+07:00 DEBUG 15580 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleNotificationNotFoundException(NotificationNotFoundException)
2025-03-24T23:22:51.550+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.551+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=Notification not found, timestamp=2025-03-24T23:22:51.549510900, status=404}]
2025-03-24T23:22:51.552+07:00 DEBUG 15580 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.phuonghieuto.backend.notification_service.exception.NotificationNotFoundException: Notification not found]
2025-03-24T23:22:51.567+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:51.595+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:51.626+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:51.637+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.642+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.647+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.661+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUnreadNotifications(Authentication)
2025-03-24T23:22:51.661+07:00  INFO 15580 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting unread notifications for user
2025-03-24T23:22:51.663+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-24T23:22:51.667+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.668+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[NotificationEntity(id=a962b976-634f-49f7-952e-3c038590aec3, userId=test-user-id, title=Task Overdue (truncated)...]
2025-03-24T23:22:51.684+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:22:51.687+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.688+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.690+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:22:51.723+07:00  INFO 15580 --- [notification-service] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.phuonghieuto.backend.notification_service.integration.BaseIntegrationTest]: BaseIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-24T23:22:51.729+07:00  INFO 15580 --- [notification-service] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.phuonghieuto.backend.notification_service.NotificationServiceApplication for test class com.phuonghieuto.backend.notification_service.integration.NotificationPreferenceControllerIntegrationTest
2025-03-24T23:22:51.745+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:51.761+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.776+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:22:51.778+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 23, end: 6
2025-03-24T23:22:51.782+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:51.785+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:22:51.790+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.791+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:22:51.797+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:51.809+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:51.811+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:51.819+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.830+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:22:51.831+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type INVALID_TYPE to false for user: test-user-id
2025-03-24T23:22:51.832+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:51.834+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.834+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:22:51.845+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:51.846+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:51.854+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.864+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:22:51.865+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 24, end: 6
2025-03-24T23:22:51.865+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.866+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:22:51.875+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:22:51.876+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 22, end: -1
2025-03-24T23:22:51.876+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.876+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:22:51.879+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:51.888+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:51.890+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:51.896+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.904+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:22:51.904+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type DUE_SOON to false for user: test-user-id
2025-03-24T23:22:51.906+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:51.909+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:22:51.911+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.911+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:22:51.915+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:51.925+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:22:51.926+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type OVERDUE to false for user: test-user-id
2025-03-24T23:22:51.927+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:51.929+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:22:51.930+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.931+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:22:51.934+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:51.942+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:51.943+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:51.948+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.958+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#resetToDefaults(Authentication)
2025-03-24T23:22:51.958+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Resetting notification preferences to defaults for user: test-user-id
2025-03-24T23:22:51.960+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:51.962+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.964+07:00  WARN 15580 --- [notification-service] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2025-03-24T23:22:51.964+07:00 ERROR 15580 --- [notification-service] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_2 ON PUBLIC.NOTIFICATION_PREFERENCES(USER_ID NULLS FIRST) VALUES ( /* 5 */ 'test-user-id' )"; SQL statement:
insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?) [23505-232]
2025-03-24T23:22:51.973+07:00 DEBUG 15580 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleGlobalException(Exception)
2025-03-24T23:22:51.973+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:51.973+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=An unexpected error occurred, error=could not execute statement [Unique index or primary ke (truncated)...]
2025-03-24T23:22:51.974+07:00 DEBUG 15580 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_2 ON PUBLIC.NOTIFICATION_PREFERENCES(USER_ID NULLS FIRST) VALUES ( /* 5 */ 'test-user-id' )"; SQL statement:<EOL>insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?) [23505-232]] [insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?)]; constraint [null]]
2025-03-24T23:22:51.983+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:51.985+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:51.990+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:51.999+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-24T23:22:52.002+07:00 DEBUG 15580 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@9 (truncated)...]
2025-03-24T23:22:52.003+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-24T23:22:52.004+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.008+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:22:52.010+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:52.010+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:22:52.015+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.023+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:52.024+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:52.029+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:52.036+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:22:52.037+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:22:52.038+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.039+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:52.039+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@5 (truncated)...]
2025-03-24T23:22:52.049+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:52.050+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:52.084+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:52.089+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:52.097+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleWebsocketNotifications(Authentication, boolean)
2025-03-24T23:22:52.098+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling websocket notifications to false for user: test-user-id
2025-03-24T23:22:52.099+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.101+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:22:52.102+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:52.103+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@7 (truncated)...]
2025-03-24T23:22:52.107+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.115+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:52.117+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:52.128+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:22:52.128+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:22:52.130+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.132+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:52.133+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:52.133+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@7 (truncated)...]
2025-03-24T23:22:52.136+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.144+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:52.145+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:52.150+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:52.158+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-24T23:22:52.159+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to false for user: test-user-id
2025-03-24T23:22:52.161+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.162+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:22:52.163+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:52.164+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@5 (truncated)...]
2025-03-24T23:22:52.167+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.183+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-24T23:22:52.184+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to true for user: test-user-id
2025-03-24T23:22:52.185+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.188+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:22:52.189+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:52.190+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:22:52.194+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.204+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:52.205+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:52.212+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:52.219+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:22:52.220+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: false, start: null, end: null
2025-03-24T23:22:52.221+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.223+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:22:52.224+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:52.225+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@7 (truncated)...]
2025-03-24T23:22:52.228+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.237+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:22:52.238+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:22:52.244+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:22:52.252+07:00 DEBUG 15580 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-24T23:22:52.253+07:00 DEBUG 15580 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@7 (truncated)...]
2025-03-24T23:22:52.253+07:00  INFO 15580 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-24T23:22:52.254+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.256+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:22:52.257+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:22:52.257+07:00 DEBUG 15580 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:22:52.261+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.263+07:00 DEBUG 15580 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:22:52.274+07:00  INFO 15580 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:22:52.281+07:00  INFO 15580 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:22:52.299+07:00  INFO 15580 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:22:52.301+07:00 DEBUG 15580 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:22:52.301+07:00 ERROR 15580 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:22:52.301+07:00 DEBUG 15580 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:22:52.304+07:00 DEBUG 15580 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:22:52.307+07:00  INFO 15580 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:22:52.310+07:00  INFO 15580 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:29:36.199+07:00  INFO 6420 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Starting NotificationControllerIntegrationTest using Java 21.0.4 with PID 6420 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:29:36.200+07:00  INFO 6420 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:29:37.062+07:00  INFO 6420 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:29:37.063+07:00  INFO 6420 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:29:37.063+07:00  INFO 6420 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:29:37.064+07:00  INFO 6420 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:29:37.064+07:00  INFO 6420 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:29:37.064+07:00  INFO 6420 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:29:37.064+07:00  INFO 6420 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:29:37.065+07:00  INFO 6420 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:29:37.065+07:00  INFO 6420 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:29:37.065+07:00  INFO 6420 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:29:37.732+07:00  INFO 6420 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:29:37.753+07:00 DEBUG 6420 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:29:37.787+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:29:37.788+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:29:37.860+07:00  INFO 6420 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 2 JPA repository interfaces.
2025-03-24T23:29:38.324+07:00  INFO 6420 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:29:39.297+07:00  INFO 6420 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:29:39.329+07:00  INFO 6420 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:29:39.330+07:00  INFO 6420 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:29:39.506+07:00  INFO 6420 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:29:39.508+07:00  INFO 6420 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3291 ms
2025-03-24T23:29:39.801+07:00  INFO 6420 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:29:39.802+07:00  INFO 6420 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:29:39.953+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:29:39.954+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:29:40.189+07:00  INFO 6420 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:29:40.343+07:00  INFO 6420 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:29:40.422+07:00  INFO 6420 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:29:40.649+07:00  INFO 6420 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:29:40.709+07:00  INFO 6420 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:29:41.064+07:00  INFO 6420 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:29:41.075+07:00  INFO 6420 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:29:41.117+07:00  WARN 6420 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:29:41.126+07:00  WARN 6420 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:29:41.154+07:00  INFO 6420 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:29:42.285+07:00  INFO 6420 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:29:42.324+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:29:42.337+07:00  WARN 6420 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:29:42.344+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:29:42.346+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:29:42.359+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:29:42.378+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:29:42.390+07:00  INFO 6420 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:29:42.732+07:00 DEBUG 6420 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:29:42.774+07:00 DEBUG 6420 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:29:43.137+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:29:43.285+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:29:43.291+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:29:43.404+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:29:43.405+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:29:43.412+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:29:43.413+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:29:43.420+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:29:43.421+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:29:43.444+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:29:43.496+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:29:43.502+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:29:43.504+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:29:43.509+07:00 DEBUG 6420 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:29:44.219+07:00  WARN 6420 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:29:44.357+07:00  INFO 6420 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:29:45.058+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:29:45.180+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:29:45.284+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:29:45.518+07:00  INFO 6420 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:29:45.828+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:29:45.876+07:00 DEBUG 6420 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:29:46.496+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:29:46.496+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:29:46.497+07:00  INFO 6420 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:29:46.497+07:00  INFO 6420 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:29:46.499+07:00  INFO 6420 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-03-24T23:29:47.545+07:00  INFO 6420 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:29:47.559+07:00  INFO 6420 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:29:47.617+07:00  WARN 6420 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:29:47.875+07:00  INFO 6420 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61671 (http) with context path '/api/v1'
2025-03-24T23:29:48.887+07:00  INFO 6420 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:29:48.904+07:00  INFO 6420 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Started NotificationControllerIntegrationTest in 14.184 seconds (process running for 22.712)
2025-03-24T23:29:49.154+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:49.267+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.277+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.280+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.282+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.328+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUserNotifications(Authentication, Pageable)
2025-03-24T23:29:49.331+07:00  INFO 6420 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting notifications for user: test-user-id
2025-03-24T23:29:49.358+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
    order by
        ne1_0.created_at desc,
        ne1_0.created_at 
    fetch
        first ? rows only
2025-03-24T23:29:49.373+07:00  WARN 6420 --- [notification-service] [main] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-03-24T23:29:49.377+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:49.377+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.phuonghieuto.backend.notification_service.model.notification.entity.Notif (truncated)...]
2025-03-24T23:29:49.464+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:49.483+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.489+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.490+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.491+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.534+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:49.543+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.547+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.550+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.561+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#countUnreadNotifications(Authentication)
2025-03-24T23:29:49.562+07:00  INFO 6420 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Counting unread notifications for user
2025-03-24T23:29:49.570+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        count(ne1_0.id) 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read)
2025-03-24T23:29:49.577+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:49.577+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [2]
2025-03-24T23:29:49.592+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:49.594+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.595+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.596+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.619+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:49.626+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.637+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-24T23:29:49.643+07:00  INFO 6420 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: 9b35e46b-9672-4c46-a014-ee30ae750e09
2025-03-24T23:29:49.655+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:29:49.668+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:29:49.678+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:49.683+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [NotificationEntity(id=9b35e46b-9672-4c46-a014-ee30ae750e09, userId=test-user-id, title=Task Due Soon (truncated)...]
2025-03-24T23:29:49.691+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:29:49.708+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:49.711+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.719+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.725+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.731+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.736+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:49.756+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAllAsRead(Authentication)
2025-03-24T23:29:49.757+07:00  INFO 6420 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking all notifications as read for user
2025-03-24T23:29:49.762+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-24T23:29:49.768+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:29:49.770+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:29:49.772+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:29:49.776+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:49.776+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:29:49.837+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-24T23:29:49.842+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-24T23:29:49.855+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:49.858+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.859+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.861+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.863+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:49.912+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-24T23:29:49.913+07:00  INFO 6420 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: non-existent-id
2025-03-24T23:29:49.915+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:29:49.926+07:00 DEBUG 6420 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleNotificationNotFoundException(NotificationNotFoundException)
2025-03-24T23:29:49.928+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:49.928+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=Notification not found, timestamp=2025-03-24T23:29:49.927683, status=404}]
2025-03-24T23:29:49.929+07:00 DEBUG 6420 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.phuonghieuto.backend.notification_service.exception.NotificationNotFoundException: Notification not found]
2025-03-24T23:29:49.945+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:49.983+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:50.024+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:50.033+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.036+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.039+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.090+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUnreadNotifications(Authentication)
2025-03-24T23:29:50.092+07:00  INFO 6420 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting unread notifications for user
2025-03-24T23:29:50.095+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-24T23:29:50.099+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.099+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[NotificationEntity(id=60d1e041-db03-4ce3-b90b-f02bb54ba0f8, userId=test-user-id, title=Task Overdue (truncated)...]
2025-03-24T23:29:50.135+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:29:50.140+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:50.141+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:50.142+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:29:50.187+07:00  INFO 6420 --- [notification-service] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.phuonghieuto.backend.notification_service.integration.BaseIntegrationTest]: BaseIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-24T23:29:50.193+07:00  INFO 6420 --- [notification-service] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.phuonghieuto.backend.notification_service.NotificationServiceApplication for test class com.phuonghieuto.backend.notification_service.integration.NotificationPreferenceControllerIntegrationTest
2025-03-24T23:29:50.216+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:50.231+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.254+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:29:50.259+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 23, end: 6
2025-03-24T23:29:50.265+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.270+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:29:50.279+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.280+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:29:50.299+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.327+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:50.332+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:50.343+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.365+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:29:50.368+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type INVALID_TYPE to false for user: test-user-id
2025-03-24T23:29:50.371+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.374+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.375+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:29:50.394+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:50.399+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:50.413+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.431+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:29:50.434+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 24, end: 6
2025-03-24T23:29:50.434+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.435+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:29:50.454+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:29:50.455+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 22, end: -1
2025-03-24T23:29:50.455+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.456+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:29:50.462+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.482+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:50.484+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:50.495+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.515+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:29:50.519+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type DUE_SOON to false for user: test-user-id
2025-03-24T23:29:50.525+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.532+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:29:50.537+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.537+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:29:50.551+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.577+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:29:50.593+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type OVERDUE to false for user: test-user-id
2025-03-24T23:29:50.601+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.611+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:29:50.621+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.622+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:29:50.628+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.644+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:50.648+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:50.656+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.671+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#resetToDefaults(Authentication)
2025-03-24T23:29:50.671+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Resetting notification preferences to defaults for user: test-user-id
2025-03-24T23:29:50.674+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.677+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.680+07:00  WARN 6420 --- [notification-service] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2025-03-24T23:29:50.680+07:00 ERROR 6420 --- [notification-service] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_2 ON PUBLIC.NOTIFICATION_PREFERENCES(USER_ID NULLS FIRST) VALUES ( /* 5 */ 'test-user-id' )"; SQL statement:
insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?) [23505-232]
2025-03-24T23:29:50.695+07:00 DEBUG 6420 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleGlobalException(Exception)
2025-03-24T23:29:50.696+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.696+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=An unexpected error occurred, error=could not execute statement [Unique index or primary ke (truncated)...]
2025-03-24T23:29:50.697+07:00 DEBUG 6420 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_2 ON PUBLIC.NOTIFICATION_PREFERENCES(USER_ID NULLS FIRST) VALUES ( /* 5 */ 'test-user-id' )"; SQL statement:<EOL>insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?) [23505-232]] [insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?)]; constraint [null]]
2025-03-24T23:29:50.712+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:50.713+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:50.720+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.730+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-24T23:29:50.735+07:00 DEBUG 6420 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:29:50.735+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-24T23:29:50.738+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.742+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:29:50.745+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.745+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:29:50.750+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.761+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:50.764+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:50.774+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.792+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:29:50.793+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:29:50.796+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.798+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.799+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:29:50.819+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:50.821+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:50.879+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:50.889+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:50.904+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleWebsocketNotifications(Authentication, boolean)
2025-03-24T23:29:50.905+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling websocket notifications to false for user: test-user-id
2025-03-24T23:29:50.906+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.911+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:29:50.915+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:50.915+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@4 (truncated)...]
2025-03-24T23:29:50.922+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:50.954+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:50.960+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:50.999+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:29:51.000+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:29:51.003+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.007+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:51.010+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:51.010+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:29:51.017+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.032+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:51.043+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:51.058+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:51.079+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-24T23:29:51.080+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to false for user: test-user-id
2025-03-24T23:29:51.083+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.099+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:29:51.103+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:51.104+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:29:51.113+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.139+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-24T23:29:51.140+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to true for user: test-user-id
2025-03-24T23:29:51.141+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.143+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:29:51.148+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:51.148+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:29:51.155+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.171+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:51.176+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:51.182+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:51.193+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:29:51.195+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: false, start: null, end: null
2025-03-24T23:29:51.197+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.200+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:29:51.202+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:51.202+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:29:51.206+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.226+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:29:51.228+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:29:51.239+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:29:51.259+07:00 DEBUG 6420 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-24T23:29:51.259+07:00 DEBUG 6420 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:29:51.261+07:00  INFO 6420 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-24T23:29:51.262+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.266+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:29:51.268+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:29:51.268+07:00 DEBUG 6420 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@4 (truncated)...]
2025-03-24T23:29:51.273+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.276+07:00 DEBUG 6420 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:29:51.291+07:00  INFO 6420 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:29:51.314+07:00  INFO 6420 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:29:51.349+07:00  INFO 6420 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:29:51.350+07:00 DEBUG 6420 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:29:51.351+07:00 ERROR 6420 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:29:51.351+07:00 DEBUG 6420 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:29:51.359+07:00 DEBUG 6420 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:29:51.371+07:00  INFO 6420 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:29:51.379+07:00  INFO 6420 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:36:49.250+07:00  INFO 7020 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Starting NotificationPreferenceControllerIntegrationTest using Java 21.0.4 with PID 7020 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:36:49.252+07:00  INFO 7020 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:36:50.292+07:00  INFO 7020 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:36:50.293+07:00  INFO 7020 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:36:50.293+07:00  INFO 7020 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:36:50.293+07:00  INFO 7020 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:36:50.294+07:00  INFO 7020 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:36:50.294+07:00  INFO 7020 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:36:50.294+07:00  INFO 7020 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:36:50.294+07:00  INFO 7020 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:36:50.295+07:00  INFO 7020 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:36:50.295+07:00  INFO 7020 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:36:50.836+07:00  INFO 7020 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:36:50.857+07:00 DEBUG 7020 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:36:50.886+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:36:50.886+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:36:51.045+07:00  INFO 7020 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 185 ms. Found 2 JPA repository interfaces.
2025-03-24T23:36:51.456+07:00  INFO 7020 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:36:52.321+07:00  INFO 7020 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:36:52.338+07:00  INFO 7020 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:36:52.338+07:00  INFO 7020 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:36:52.448+07:00  INFO 7020 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:36:52.448+07:00  INFO 7020 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3174 ms
2025-03-24T23:36:52.674+07:00  INFO 7020 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:36:52.676+07:00  INFO 7020 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:36:52.816+07:00 DEBUG 7020 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:36:52.817+07:00 DEBUG 7020 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:36:53.008+07:00  INFO 7020 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:36:53.079+07:00  INFO 7020 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:36:53.114+07:00  INFO 7020 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:36:53.421+07:00  INFO 7020 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:36:53.456+07:00  INFO 7020 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:36:53.654+07:00  INFO 7020 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:36:53.656+07:00  INFO 7020 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:36:53.678+07:00  WARN 7020 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:36:53.683+07:00  WARN 7020 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:36:53.703+07:00  INFO 7020 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:36:54.579+07:00  INFO 7020 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:36:54.595+07:00 DEBUG 7020 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:36:54.601+07:00  WARN 7020 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:36:54.606+07:00 DEBUG 7020 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:36:54.608+07:00 DEBUG 7020 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:36:54.613+07:00 DEBUG 7020 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:36:54.621+07:00 DEBUG 7020 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:36:54.627+07:00  INFO 7020 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:36:54.763+07:00 DEBUG 7020 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:36:54.780+07:00 DEBUG 7020 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:36:54.941+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:36:55.002+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:36:55.005+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:36:55.071+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:36:55.072+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:36:55.080+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:36:55.080+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:36:55.082+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:36:55.083+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:36:55.087+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:36:55.115+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:36:55.119+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:36:55.120+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:36:55.123+07:00 DEBUG 7020 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:36:55.530+07:00  WARN 7020 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:36:55.593+07:00  INFO 7020 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:36:56.888+07:00 DEBUG 7020 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:36:57.049+07:00 DEBUG 7020 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:36:57.205+07:00 DEBUG 7020 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:36:57.457+07:00  INFO 7020 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:36:57.844+07:00 DEBUG 7020 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:36:57.934+07:00 DEBUG 7020 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:36:58.517+07:00 DEBUG 7020 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:36:58.518+07:00 DEBUG 7020 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:36:58.520+07:00  INFO 7020 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:36:58.521+07:00  INFO 7020 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:36:58.525+07:00  INFO 7020 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-03-24T23:36:59.566+07:00  INFO 7020 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:36:59.593+07:00  INFO 7020 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:36:59.664+07:00  WARN 7020 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:36:59.964+07:00  INFO 7020 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61918 (http) with context path '/api/v1'
2025-03-24T23:37:00.972+07:00  INFO 7020 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:37:00.989+07:00  INFO 7020 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Started NotificationPreferenceControllerIntegrationTest in 13.276 seconds (process running for 14.8)
2025-03-24T23:37:01.244+07:00 DEBUG 7020 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:37:01.662+07:00 DEBUG 7020 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:37:01.778+07:00 DEBUG 7020 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#resetToDefaults(Authentication)
2025-03-24T23:37:01.794+07:00  INFO 7020 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Resetting notification preferences to defaults for user: test-user-id
2025-03-24T23:37:01.816+07:00 DEBUG 7020 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:37:01.826+07:00 DEBUG 7020 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:37:01.829+07:00  WARN 7020 --- [notification-service] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 23505, SQLState: 23505
2025-03-24T23:37:01.829+07:00 ERROR 7020 --- [notification-service] [main] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_2 ON PUBLIC.NOTIFICATION_PREFERENCES(USER_ID NULLS FIRST) VALUES ( /* 1 */ 'test-user-id' )"; SQL statement:
insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?) [23505-232]
2025-03-24T23:37:01.844+07:00 DEBUG 7020 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleGlobalException(Exception)
2025-03-24T23:37:01.857+07:00 DEBUG 7020 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:37:01.858+07:00 DEBUG 7020 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=An unexpected error occurred, error=could not execute statement [Unique index or primary ke (truncated)...]
2025-03-24T23:37:01.870+07:00 DEBUG 7020 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: could not execute statement [Unique index or primary key violation: "PUBLIC.CONSTRAINT_INDEX_2 ON PUBLIC.NOTIFICATION_PREFERENCES(USER_ID NULLS FIRST) VALUES ( /* 1 */ 'test-user-id' )"; SQL statement:<EOL>insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?) [23505-232]] [insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into notification_preferences (board_sharing_notifications,due_soon_notifications,email_enabled,overdue_notifications,quiet_hours_enabled,quiet_hours_end,quiet_hours_start,task_assignment_notifications,user_id,websocket_enabled,id) values (?,?,?,?,?,?,?,?,?,?,?)]; constraint [null]]
2025-03-24T23:37:01.925+07:00  INFO 7020 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:37:01.932+07:00  INFO 7020 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:37:01.948+07:00  INFO 7020 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:37:01.949+07:00 DEBUG 7020 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:37:01.950+07:00 ERROR 7020 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:37:01.951+07:00 DEBUG 7020 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:37:01.953+07:00 DEBUG 7020 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:37:01.957+07:00  INFO 7020 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:37:01.984+07:00  INFO 7020 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:39:35.917+07:00  INFO 11248 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Starting NotificationPreferenceControllerIntegrationTest using Java 21.0.4 with PID 11248 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:39:35.920+07:00  INFO 11248 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:39:37.061+07:00  INFO 11248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:39:37.061+07:00  INFO 11248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:39:37.062+07:00  INFO 11248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:39:37.062+07:00  INFO 11248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:39:37.062+07:00  INFO 11248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:39:37.063+07:00  INFO 11248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:39:37.063+07:00  INFO 11248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:39:37.063+07:00  INFO 11248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:39:37.063+07:00  INFO 11248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:39:37.064+07:00  INFO 11248 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:39:37.589+07:00  INFO 11248 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:39:37.612+07:00 DEBUG 11248 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:39:37.638+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:39:37.639+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:39:37.801+07:00  INFO 11248 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 187 ms. Found 2 JPA repository interfaces.
2025-03-24T23:39:38.256+07:00  INFO 11248 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:39:39.121+07:00  INFO 11248 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:39:39.141+07:00  INFO 11248 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:39:39.142+07:00  INFO 11248 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:39:39.256+07:00  INFO 11248 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:39:39.257+07:00  INFO 11248 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3283 ms
2025-03-24T23:39:39.468+07:00  INFO 11248 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:39:39.471+07:00  INFO 11248 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:39:39.598+07:00 DEBUG 11248 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:39:39.599+07:00 DEBUG 11248 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:39:39.789+07:00  INFO 11248 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:39:39.862+07:00  INFO 11248 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:39:39.901+07:00  INFO 11248 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:39:40.200+07:00  INFO 11248 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:39:40.234+07:00  INFO 11248 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:39:40.428+07:00  INFO 11248 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:39:40.430+07:00  INFO 11248 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:39:40.452+07:00  WARN 11248 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:39:40.457+07:00  WARN 11248 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:39:40.479+07:00  INFO 11248 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:39:41.335+07:00  INFO 11248 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:39:41.351+07:00 DEBUG 11248 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:39:41.355+07:00  WARN 11248 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:39:41.366+07:00 DEBUG 11248 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:39:41.368+07:00 DEBUG 11248 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:39:41.374+07:00 DEBUG 11248 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:39:41.381+07:00 DEBUG 11248 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:39:41.387+07:00  INFO 11248 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:39:41.515+07:00 DEBUG 11248 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:39:41.534+07:00 DEBUG 11248 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:39:41.699+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:39:41.757+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:39:41.761+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:39:41.814+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:39:41.814+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:39:41.817+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:39:41.818+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:39:41.822+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:39:41.823+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:39:41.831+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:39:41.860+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:39:41.863+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:39:41.863+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:39:41.868+07:00 DEBUG 11248 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:39:42.277+07:00  WARN 11248 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:39:42.348+07:00  INFO 11248 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:39:43.637+07:00 DEBUG 11248 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:39:43.803+07:00 DEBUG 11248 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:39:43.966+07:00 DEBUG 11248 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:39:44.245+07:00  INFO 11248 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:39:44.653+07:00 DEBUG 11248 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:39:44.741+07:00 DEBUG 11248 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:39:45.291+07:00 DEBUG 11248 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:39:45.292+07:00 DEBUG 11248 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:39:45.294+07:00  INFO 11248 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:39:45.294+07:00  INFO 11248 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:39:45.298+07:00  INFO 11248 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 3 ms
2025-03-24T23:39:46.345+07:00  INFO 11248 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:39:46.368+07:00  INFO 11248 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:39:46.439+07:00  WARN 11248 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:39:46.766+07:00  INFO 11248 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 61999 (http) with context path '/api/v1'
2025-03-24T23:39:47.783+07:00  INFO 11248 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:39:47.804+07:00  INFO 11248 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Started NotificationPreferenceControllerIntegrationTest in 13.46 seconds (process running for 14.902)
2025-03-24T23:39:48.035+07:00 DEBUG 11248 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:39:48.599+07:00 DEBUG 11248 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:39:48.714+07:00 DEBUG 11248 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#resetToDefaults(Authentication)
2025-03-24T23:39:48.730+07:00  INFO 11248 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Resetting notification preferences to defaults for user: test-user-id
2025-03-24T23:39:48.754+07:00 DEBUG 11248 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:39:48.776+07:00 DEBUG 11248 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:39:48.814+07:00 DEBUG 11248 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:39:48.815+07:00 DEBUG 11248 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:39:48.930+07:00 DEBUG 11248 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:39:48.967+07:00  INFO 11248 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:39:48.973+07:00  INFO 11248 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:39:48.993+07:00  INFO 11248 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:39:48.994+07:00 DEBUG 11248 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:39:48.995+07:00 ERROR 11248 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:39:48.996+07:00 DEBUG 11248 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:39:48.999+07:00 DEBUG 11248 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:39:49.002+07:00  INFO 11248 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:39:49.006+07:00  INFO 11248 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:40:05.991+07:00  INFO 10316 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Starting NotificationControllerIntegrationTest using Java 21.0.4 with PID 10316 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:40:05.992+07:00  INFO 10316 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:40:06.943+07:00  INFO 10316 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:40:06.944+07:00  INFO 10316 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:40:06.944+07:00  INFO 10316 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:40:06.945+07:00  INFO 10316 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:40:06.945+07:00  INFO 10316 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:40:06.945+07:00  INFO 10316 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:40:06.945+07:00  INFO 10316 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:40:06.946+07:00  INFO 10316 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:40:06.946+07:00  INFO 10316 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:40:06.946+07:00  INFO 10316 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:40:07.670+07:00  INFO 10316 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:40:07.702+07:00 DEBUG 10316 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:40:07.731+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:40:07.732+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:40:07.781+07:00  INFO 10316 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 77 ms. Found 2 JPA repository interfaces.
2025-03-24T23:40:08.227+07:00  INFO 10316 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:40:09.305+07:00  INFO 10316 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:40:09.331+07:00  INFO 10316 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:40:09.331+07:00  INFO 10316 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:40:09.524+07:00  INFO 10316 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:40:09.525+07:00  INFO 10316 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3518 ms
2025-03-24T23:40:09.786+07:00  INFO 10316 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:40:09.787+07:00  INFO 10316 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:40:09.921+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:40:09.921+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:40:10.109+07:00  INFO 10316 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:40:10.180+07:00  INFO 10316 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:40:10.227+07:00  INFO 10316 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:40:10.372+07:00  INFO 10316 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:40:10.415+07:00  INFO 10316 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:40:10.707+07:00  INFO 10316 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:40:10.709+07:00  INFO 10316 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:40:10.738+07:00  WARN 10316 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:40:10.747+07:00  WARN 10316 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:40:10.766+07:00  INFO 10316 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:40:11.633+07:00  INFO 10316 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:40:11.647+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:40:11.652+07:00  WARN 10316 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:40:11.655+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:40:11.657+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:40:11.664+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:40:11.672+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:40:11.680+07:00  INFO 10316 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:40:11.833+07:00 DEBUG 10316 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:40:11.855+07:00 DEBUG 10316 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:40:12.052+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:40:12.127+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:40:12.132+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:40:12.205+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:40:12.206+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:40:12.207+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:40:12.208+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:40:12.209+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:40:12.209+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:40:12.213+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:40:12.245+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:40:12.249+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:40:12.249+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:40:12.252+07:00 DEBUG 10316 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:40:12.816+07:00  WARN 10316 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:40:12.916+07:00  INFO 10316 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:40:13.482+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:40:13.552+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:40:13.629+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:40:13.815+07:00  INFO 10316 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:40:14.142+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:40:14.189+07:00 DEBUG 10316 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:40:14.763+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:40:14.763+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:40:14.764+07:00  INFO 10316 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:40:14.764+07:00  INFO 10316 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:40:14.767+07:00  INFO 10316 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-03-24T23:40:15.806+07:00  INFO 10316 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:40:15.821+07:00  INFO 10316 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:40:15.888+07:00  WARN 10316 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:40:16.138+07:00  INFO 10316 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 62025 (http) with context path '/api/v1'
2025-03-24T23:40:17.157+07:00  INFO 10316 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:40:17.174+07:00  INFO 10316 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Started NotificationControllerIntegrationTest in 12.678 seconds (process running for 21.06)
2025-03-24T23:40:17.477+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:17.639+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:17.650+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:17.652+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:17.654+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:17.716+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUserNotifications(Authentication, Pageable)
2025-03-24T23:40:17.722+07:00  INFO 10316 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting notifications for user: test-user-id
2025-03-24T23:40:17.747+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
    order by
        ne1_0.created_at desc,
        ne1_0.created_at 
    fetch
        first ? rows only
2025-03-24T23:40:17.759+07:00  WARN 10316 --- [notification-service] [main] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-03-24T23:40:17.763+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:17.764+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.phuonghieuto.backend.notification_service.model.notification.entity.Notif (truncated)...]
2025-03-24T23:40:17.821+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:17.835+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:17.841+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:17.842+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:17.843+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:17.879+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:17.887+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:17.889+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:17.892+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:17.905+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#countUnreadNotifications(Authentication)
2025-03-24T23:40:17.906+07:00  INFO 10316 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Counting unread notifications for user
2025-03-24T23:40:17.914+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        count(ne1_0.id) 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read)
2025-03-24T23:40:17.920+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:17.920+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [2]
2025-03-24T23:40:17.934+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:17.937+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:17.938+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:17.939+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:17.963+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:17.971+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:17.982+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-24T23:40:17.988+07:00  INFO 10316 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: 0c008a17-ebe0-4f5d-862f-ed146996e64b
2025-03-24T23:40:17.998+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:40:18.007+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:40:18.016+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.020+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [NotificationEntity(id=0c008a17-ebe0-4f5d-862f-ed146996e64b, userId=test-user-id, title=Task Due Soon (truncated)...]
2025-03-24T23:40:18.025+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:40:18.036+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:18.040+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:18.047+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.049+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.052+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.055+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.066+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAllAsRead(Authentication)
2025-03-24T23:40:18.067+07:00  INFO 10316 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking all notifications as read for user
2025-03-24T23:40:18.069+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-24T23:40:18.075+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:40:18.076+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:40:18.077+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:40:18.078+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.079+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:40:18.113+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-24T23:40:18.118+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-24T23:40:18.126+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:18.128+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:18.131+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:18.131+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:18.132+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:18.145+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-24T23:40:18.145+07:00  INFO 10316 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: non-existent-id
2025-03-24T23:40:18.146+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:40:18.147+07:00 DEBUG 10316 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleNotificationNotFoundException(NotificationNotFoundException)
2025-03-24T23:40:18.154+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.162+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=Notification not found, timestamp=2025-03-24T23:40:18.149122600, status=404}]
2025-03-24T23:40:18.168+07:00 DEBUG 10316 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.phuonghieuto.backend.notification_service.exception.NotificationNotFoundException: Notification not found]
2025-03-24T23:40:18.192+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:18.223+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:18.264+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:18.276+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.278+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.282+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.296+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUnreadNotifications(Authentication)
2025-03-24T23:40:18.297+07:00  INFO 10316 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting unread notifications for user
2025-03-24T23:40:18.299+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-24T23:40:18.302+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.302+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[NotificationEntity(id=c43637d0-2cf5-4d32-840c-355429461bd3, userId=test-user-id, title=Task Overdue (truncated)...]
2025-03-24T23:40:18.320+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:40:18.323+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:18.324+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:18.325+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:40:18.343+07:00  INFO 10316 --- [notification-service] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.phuonghieuto.backend.notification_service.integration.BaseIntegrationTest]: BaseIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-24T23:40:18.347+07:00  INFO 10316 --- [notification-service] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.phuonghieuto.backend.notification_service.NotificationServiceApplication for test class com.phuonghieuto.backend.notification_service.integration.NotificationPreferenceControllerIntegrationTest
2025-03-24T23:40:18.362+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.375+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.391+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:40:18.393+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 23, end: 6
2025-03-24T23:40:18.395+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.399+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:40:18.404+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.405+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:40:18.410+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.420+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.422+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.428+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.438+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:40:18.438+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type INVALID_TYPE to false for user: test-user-id
2025-03-24T23:40:18.440+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.442+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.442+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:40:18.453+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.455+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.462+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.476+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:40:18.478+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 24, end: 6
2025-03-24T23:40:18.478+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.478+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:40:18.489+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:40:18.489+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 22, end: -1
2025-03-24T23:40:18.490+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.490+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:40:18.493+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.506+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.507+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.516+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.526+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:40:18.526+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type DUE_SOON to false for user: test-user-id
2025-03-24T23:40:18.528+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.530+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:40:18.533+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.533+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:40:18.536+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.546+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:40:18.547+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type OVERDUE to false for user: test-user-id
2025-03-24T23:40:18.548+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.551+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:40:18.553+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.554+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:40:18.557+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.567+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.568+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.574+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.583+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#resetToDefaults(Authentication)
2025-03-24T23:40:18.584+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Resetting notification preferences to defaults for user: test-user-id
2025-03-24T23:40:18.585+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.589+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:40:18.591+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.591+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:40:18.597+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.609+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.611+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.617+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.627+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-24T23:40:18.632+07:00 DEBUG 10316 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:40:18.632+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-24T23:40:18.634+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.638+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:40:18.639+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.639+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@d (truncated)...]
2025-03-24T23:40:18.645+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.656+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.659+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.665+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.674+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:40:18.674+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:40:18.675+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.677+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.678+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@9 (truncated)...]
2025-03-24T23:40:18.690+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.692+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.738+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.746+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.756+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleWebsocketNotifications(Authentication, boolean)
2025-03-24T23:40:18.757+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling websocket notifications to false for user: test-user-id
2025-03-24T23:40:18.758+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.761+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:40:18.763+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.763+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:40:18.767+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.778+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.779+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.792+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:40:18.793+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:40:18.794+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.797+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.798+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.798+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:40:18.804+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.814+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.817+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.823+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.834+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-24T23:40:18.835+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to false for user: test-user-id
2025-03-24T23:40:18.836+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.839+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:40:18.840+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.840+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:40:18.845+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.855+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-24T23:40:18.856+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to true for user: test-user-id
2025-03-24T23:40:18.857+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.860+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:40:18.862+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.862+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:40:18.867+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.878+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.880+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.886+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.894+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:40:18.895+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: false, start: null, end: null
2025-03-24T23:40:18.897+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.899+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:40:18.901+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.901+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:40:18.904+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.913+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:40:18.915+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:40:18.920+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:40:18.929+07:00 DEBUG 10316 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-24T23:40:18.931+07:00 DEBUG 10316 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:40:18.931+07:00  INFO 10316 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-24T23:40:18.932+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.936+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:40:18.937+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:40:18.938+07:00 DEBUG 10316 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:40:18.942+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.945+07:00 DEBUG 10316 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:40:18.958+07:00  INFO 10316 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:40:18.966+07:00  INFO 10316 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:40:18.980+07:00  INFO 10316 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:40:18.982+07:00 DEBUG 10316 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:40:18.983+07:00 ERROR 10316 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:40:18.984+07:00 DEBUG 10316 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:40:18.987+07:00 DEBUG 10316 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:40:18.991+07:00  INFO 10316 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:40:18.992+07:00  INFO 10316 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-03-24T23:43:11.208+07:00  INFO 2832 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Starting NotificationControllerIntegrationTest using Java 21.0.4 with PID 2832 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-24T23:43:11.210+07:00  INFO 2832 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-24T23:43:12.114+07:00  INFO 2832 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:43:12.115+07:00  INFO 2832 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:43:12.115+07:00  INFO 2832 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:43:12.115+07:00  INFO 2832 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:43:12.115+07:00  INFO 2832 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:43:12.116+07:00  INFO 2832 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:43:12.116+07:00  INFO 2832 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:43:12.116+07:00  INFO 2832 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:43:12.116+07:00  INFO 2832 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:43:12.116+07:00  INFO 2832 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-24T23:43:12.668+07:00  INFO 2832 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-24T23:43:12.697+07:00 DEBUG 2832 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-24T23:43:12.722+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-24T23:43:12.723+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-24T23:43:12.767+07:00  INFO 2832 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 2 JPA repository interfaces.
2025-03-24T23:43:13.120+07:00  INFO 2832 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-24T23:43:13.949+07:00  INFO 2832 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-24T23:43:13.966+07:00  INFO 2832 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-24T23:43:13.967+07:00  INFO 2832 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-24T23:43:14.070+07:00  INFO 2832 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-24T23:43:14.071+07:00  INFO 2832 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2847 ms
2025-03-24T23:43:14.280+07:00  INFO 2832 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-24T23:43:14.281+07:00  INFO 2832 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-24T23:43:14.395+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:43:14.395+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:43:14.607+07:00  INFO 2832 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-24T23:43:14.697+07:00  INFO 2832 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-24T23:43:14.750+07:00  INFO 2832 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-24T23:43:14.892+07:00  INFO 2832 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-24T23:43:14.925+07:00  INFO 2832 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-24T23:43:15.117+07:00  INFO 2832 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-24T23:43:15.120+07:00  INFO 2832 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-24T23:43:15.143+07:00  WARN 2832 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-24T23:43:15.150+07:00  WARN 2832 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-24T23:43:15.172+07:00  INFO 2832 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-24T23:43:15.949+07:00  INFO 2832 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-24T23:43:15.966+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:43:15.971+07:00  WARN 2832 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-24T23:43:15.975+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:43:15.976+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:43:15.983+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-24T23:43:15.991+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-24T23:43:15.998+07:00  INFO 2832 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:43:16.136+07:00 DEBUG 2832 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext
2025-03-24T23:43:16.156+07:00 DEBUG 2832 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-24T23:43:16.298+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository
2025-03-24T23:43:16.369+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-24T23:43:16.374+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-24T23:43:16.436+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-24T23:43:16.437+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-24T23:43:16.445+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-24T23:43:16.446+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-24T23:43:16.448+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-24T23:43:16.448+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-24T23:43:16.452+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-24T23:43:16.484+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository
2025-03-24T23:43:16.488+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-24T23:43:16.488+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-24T23:43:16.491+07:00 DEBUG 2832 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-24T23:43:16.909+07:00  WARN 2832 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-24T23:43:16.975+07:00  INFO 2832 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-24T23:43:17.481+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-24T23:43:17.544+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-24T23:43:17.618+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-24T23:43:17.828+07:00  INFO 2832 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-24T23:43:18.088+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-24T23:43:18.134+07:00 DEBUG 2832 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-24T23:43:18.628+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-24T23:43:18.628+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-24T23:43:18.629+07:00  INFO 2832 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-24T23:43:18.629+07:00  INFO 2832 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-24T23:43:18.633+07:00  INFO 2832 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 4 ms
2025-03-24T23:43:19.676+07:00  INFO 2832 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:43:19.697+07:00  INFO 2832 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-24T23:43:19.764+07:00  WARN 2832 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-24T23:43:20.020+07:00  INFO 2832 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 62137 (http) with context path '/api/v1'
2025-03-24T23:43:21.039+07:00  INFO 2832 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-24T23:43:21.056+07:00  INFO 2832 --- [notification-service] [main] .i.NotificationControllerIntegrationTest : Started NotificationControllerIntegrationTest in 11.295 seconds (process running for 18.655)
2025-03-24T23:43:21.301+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:21.407+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.415+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.417+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.420+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.457+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUserNotifications(Authentication, Pageable)
2025-03-24T23:43:21.461+07:00  INFO 2832 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting notifications for user: test-user-id
2025-03-24T23:43:21.490+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
    order by
        ne1_0.created_at desc,
        ne1_0.created_at 
    fetch
        first ? rows only
2025-03-24T23:43:21.504+07:00  WARN 2832 --- [notification-service] [main] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-03-24T23:43:21.506+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:21.508+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.phuonghieuto.backend.notification_service.model.notification.entity.Notif (truncated)...]
2025-03-24T23:43:21.563+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:21.572+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.575+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.576+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.578+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.617+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:21.623+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.627+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.629+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.638+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#countUnreadNotifications(Authentication)
2025-03-24T23:43:21.639+07:00  INFO 2832 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Counting unread notifications for user
2025-03-24T23:43:21.651+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        count(ne1_0.id) 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read)
2025-03-24T23:43:21.658+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:21.658+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [2]
2025-03-24T23:43:21.672+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:21.675+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.676+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.677+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.698+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:21.704+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.714+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-24T23:43:21.720+07:00  INFO 2832 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: c48fdff2-6f32-4212-bcb8-d200e830c18f
2025-03-24T23:43:21.728+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:43:21.738+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:43:21.745+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:21.747+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [NotificationEntity(id=c48fdff2-6f32-4212-bcb8-d200e830c18f, userId=test-user-id, title=Task Due Soon (truncated)...]
2025-03-24T23:43:21.752+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:43:21.762+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:21.765+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.786+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.790+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.793+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.795+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:21.817+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAllAsRead(Authentication)
2025-03-24T23:43:21.818+07:00  INFO 2832 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking all notifications as read for user
2025-03-24T23:43:21.823+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-24T23:43:21.831+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:43:21.833+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:43:21.835+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-24T23:43:21.837+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:21.838+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:43:21.911+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-24T23:43:21.916+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-24T23:43:21.931+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:21.935+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.936+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.936+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.937+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:21.954+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-24T23:43:21.955+07:00  INFO 2832 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: non-existent-id
2025-03-24T23:43:21.956+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-24T23:43:21.957+07:00 DEBUG 2832 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleNotificationNotFoundException(NotificationNotFoundException)
2025-03-24T23:43:21.959+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:21.959+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=Notification not found, timestamp=2025-03-24T23:43:21.957733800, status=404}]
2025-03-24T23:43:21.961+07:00 DEBUG 2832 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.phuonghieuto.backend.notification_service.exception.NotificationNotFoundException: Notification not found]
2025-03-24T23:43:21.975+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:21.992+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:22.030+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:22.037+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.039+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.041+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.052+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUnreadNotifications(Authentication)
2025-03-24T23:43:22.052+07:00  INFO 2832 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting unread notifications for user
2025-03-24T23:43:22.053+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-24T23:43:22.055+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.055+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[NotificationEntity(id=08344fe9-540d-4f6c-9eaa-9eb176bc458a, userId=test-user-id, title=Task Overdue (truncated)...]
2025-03-24T23:43:22.065+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-24T23:43:22.067+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:22.068+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:22.068+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-24T23:43:22.086+07:00  INFO 2832 --- [notification-service] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.phuonghieuto.backend.notification_service.integration.BaseIntegrationTest]: BaseIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-24T23:43:22.089+07:00  INFO 2832 --- [notification-service] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.phuonghieuto.backend.notification_service.NotificationServiceApplication for test class com.phuonghieuto.backend.notification_service.integration.NotificationPreferenceControllerIntegrationTest
2025-03-24T23:43:22.098+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.107+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.119+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:43:22.121+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 23, end: 6
2025-03-24T23:43:22.123+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.127+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:43:22.130+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.131+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@a (truncated)...]
2025-03-24T23:43:22.135+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.144+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.145+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.151+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.159+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:43:22.160+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type INVALID_TYPE to false for user: test-user-id
2025-03-24T23:43:22.162+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.163+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.163+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:43:22.173+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.175+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.182+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.190+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:43:22.190+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 24, end: 6
2025-03-24T23:43:22.191+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.191+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:43:22.199+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:43:22.200+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 22, end: -1
2025-03-24T23:43:22.200+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.200+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-24T23:43:22.205+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.216+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.218+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.223+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.233+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:43:22.233+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type DUE_SOON to false for user: test-user-id
2025-03-24T23:43:22.234+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.237+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:43:22.238+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.239+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@4 (truncated)...]
2025-03-24T23:43:22.242+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.250+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-24T23:43:22.251+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type OVERDUE to false for user: test-user-id
2025-03-24T23:43:22.253+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.254+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:43:22.256+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.256+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:43:22.260+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.268+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.270+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.275+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.283+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#resetToDefaults(Authentication)
2025-03-24T23:43:22.284+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Resetting notification preferences to defaults for user: test-user-id
2025-03-24T23:43:22.285+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.289+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:43:22.290+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.290+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@4 (truncated)...]
2025-03-24T23:43:22.295+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.304+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.306+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.313+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.324+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-24T23:43:22.328+07:00 DEBUG 2832 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@5 (truncated)...]
2025-03-24T23:43:22.328+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-24T23:43:22.330+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.332+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:43:22.333+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.334+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:43:22.340+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.349+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.351+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.358+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.367+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:43:22.368+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:43:22.370+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.372+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.372+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:43:22.386+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.387+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.432+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.439+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.449+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleWebsocketNotifications(Authentication, boolean)
2025-03-24T23:43:22.450+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling websocket notifications to false for user: test-user-id
2025-03-24T23:43:22.453+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.454+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:43:22.456+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.456+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-24T23:43:22.462+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.475+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.477+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.492+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-24T23:43:22.492+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-24T23:43:22.494+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.496+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.497+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.497+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@1 (truncated)...]
2025-03-24T23:43:22.502+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.511+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.512+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.518+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.526+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-24T23:43:22.526+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to false for user: test-user-id
2025-03-24T23:43:22.529+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.531+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:43:22.532+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.532+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:43:22.536+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.546+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-24T23:43:22.546+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to true for user: test-user-id
2025-03-24T23:43:22.547+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.550+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:43:22.551+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.551+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:43:22.556+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.569+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.571+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.577+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.584+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-24T23:43:22.585+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: false, start: null, end: null
2025-03-24T23:43:22.586+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.588+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:43:22.589+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.589+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:43:22.593+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.602+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-24T23:43:22.603+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-24T23:43:22.612+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-24T23:43:22.620+07:00 DEBUG 2832 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-24T23:43:22.621+07:00 DEBUG 2832 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-24T23:43:22.621+07:00  INFO 2832 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-24T23:43:22.622+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.624+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-24T23:43:22.626+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-24T23:43:22.626+07:00 DEBUG 2832 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-24T23:43:22.629+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.632+07:00 DEBUG 2832 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-24T23:43:22.643+07:00  INFO 2832 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-24T23:43:22.649+07:00  INFO 2832 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-24T23:43:22.664+07:00  INFO 2832 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-24T23:43:22.665+07:00 DEBUG 2832 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-24T23:43:22.666+07:00 ERROR 2832 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-24T23:43:22.666+07:00 DEBUG 2832 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-24T23:43:22.669+07:00 DEBUG 2832 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-24T23:43:22.672+07:00  INFO 2832 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-24T23:43:22.673+07:00  INFO 2832 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
