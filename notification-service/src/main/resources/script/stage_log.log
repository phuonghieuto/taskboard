2025-03-25T16:37:40.441+07:00  INFO 17068 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Starting NotificationPreferenceControllerIntegrationTest using Java 21.0.4 with PID 17068 (started by ADMIN in C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service)
2025-03-25T16:37:40.453+07:00  INFO 17068 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : The following 1 profile is active: "test"
2025-03-25T16:37:41.522+07:00  INFO 17068 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskOverdueBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskOverdueBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-25T16:37:41.523+07:00  INFO 17068 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskNotificationsQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskNotificationsQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-25T16:37:41.523+07:00  INFO 17068 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'tasksExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=tasksExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-25T16:37:41.524+07:00  INFO 17068 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'taskDueSoonBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=taskDueSoonBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-25T16:37:41.525+07:00  INFO 17068 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'jsonMessageConverter' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=jsonMessageConverter; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-25T16:37:41.525+07:00  INFO 17068 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'rabbitTemplate' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=rabbitTemplate; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-25T16:37:41.525+07:00  INFO 17068 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'boardInvitationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=boardInvitationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-25T16:37:41.526+07:00  INFO 17068 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationQueue' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationQueue; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-25T16:37:41.526+07:00  INFO 17068 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'notificationExchange' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=notificationExchange; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-25T16:37:41.526+07:00  INFO 17068 --- [notification-service] [main] o.s.b.f.s.DefaultListableBeanFactory     : Overriding bean definition for bean 'emailConfirmationBinding' with a different definition: replacing [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=true; fallback=false; factoryBeanName=testRabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/config/TestRabbitMQConfig.class]] with [Root bean: class=null; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; fallback=false; factoryBeanName=rabbitMQConfig; factoryMethodName=emailConfirmationBinding; initMethodNames=null; destroyMethodNames=[(inferred)]; defined in class path resource [com/phuonghieuto/backend/notification_service/messaging/config/RabbitMQConfig.class]]
2025-03-25T16:37:42.143+07:00  INFO 17068 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-03-25T16:37:42.172+07:00 DEBUG 17068 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Scanning for JPA repositories in packages com.phuonghieuto.backend.notification_service.
2025-03-25T16:37:42.210+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationPreferenceRepository.class]
2025-03-25T16:37:42.211+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.r.c.RepositoryComponentProvider    : Identified candidate component class: file [C:\Users\ADMIN\Workspace\PersonalProject\TaskManagement\backend\notification-service\target\classes\com\phuonghieuto\backend\notification_service\repository\NotificationRepository.class]
2025-03-25T16:37:42.427+07:00  INFO 17068 --- [notification-service] [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 253 ms. Found 2 JPA repository interfaces.
2025-03-25T16:37:42.947+07:00  INFO 17068 --- [notification-service] [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=7077a56c-71e7-3d24-b594-45b4a0799d4c
2025-03-25T16:37:43.919+07:00  INFO 17068 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 0 (http)
2025-03-25T16:37:43.942+07:00  INFO 17068 --- [notification-service] [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-03-25T16:37:43.943+07:00  INFO 17068 --- [notification-service] [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.34]
2025-03-25T16:37:44.063+07:00  INFO 17068 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring embedded WebApplicationContext
2025-03-25T16:37:44.064+07:00  INFO 17068 --- [notification-service] [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3590 ms
2025-03-25T16:37:44.331+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Loading keys from paths: public=classpath:keys/public.pem
2025-03-25T16:37:44.332+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.security.FileKeyProvider         : Successfully loaded public key from file
2025-03-25T16:37:44.510+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-25T16:37:44.511+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-25T16:37:44.715+07:00  INFO 17068 --- [notification-service] [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-03-25T16:37:44.801+07:00  INFO 17068 --- [notification-service] [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.6.5.Final
2025-03-25T16:37:44.839+07:00  INFO 17068 --- [notification-service] [main] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2025-03-25T16:37:44.991+07:00  INFO 17068 --- [notification-service] [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-03-25T16:37:45.029+07:00  INFO 17068 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-03-25T16:37:45.232+07:00  INFO 17068 --- [notification-service] [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:testdb user=SA
2025-03-25T16:37:45.234+07:00  INFO 17068 --- [notification-service] [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-03-25T16:37:45.256+07:00  WARN 17068 --- [notification-service] [main] org.hibernate.dialect.Dialect            : HHH000511: The 2.3.232 version for [org.hibernate.dialect.PostgreSQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 12.0.0. Check the community dialects project for available legacy versions.
2025-03-25T16:37:45.262+07:00  WARN 17068 --- [notification-service] [main] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-03-25T16:37:45.284+07:00  INFO 17068 --- [notification-service] [main] org.hibernate.orm.connections.pooling    : HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 2.3.232
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-03-25T16:37:46.068+07:00  INFO 17068 --- [notification-service] [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-03-25T16:37:46.084+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-25T16:37:46.088+07:00  WARN 17068 --- [notification-service] [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    set client_min_messages = WARNING" via JDBC [Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:233) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:213) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:186) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:156) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:116) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:238) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1506) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366) ~[spring-orm-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:336) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:307) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:334) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627) ~[spring-context-6.2.2.jar:6.2.2]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46) ~[spring-core-6.2.2.jar:6.2.2]
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461) ~[spring-boot-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108) ~[spring-boot-test-3.4.2.jar:3.4.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:142) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:98) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260) ~[spring-test-6.2.2.jar:6.2.2]
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160) ~[spring-test-6.2.2.jar:6.2.2]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na]
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151) ~[na:na]
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174) ~[na:na]
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at java.base/java.util.Optional.orElseGet(Optional.java:364) ~[na:na]
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68) ~[junit-jupiter-engine-5.11.4.jar:5.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596) ~[na:na]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54) ~[junit-platform-engine-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70) ~[junit-platform-launcher-1.11.4.jar:1.11.4]
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:520) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:748) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:443) ~[.cp/:na]
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211) ~[.cp/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement "\000d\000a    set [*]client_min_messages = WARNING"; expected "@, AUTOCOMMIT, EXCLUSIVE, IGNORECASE, PASSWORD, SALT, MODE, DATABASE, COLLATION, CLUSTER, DATABASE_EVENT_LISTENER, ALLOW_LITERALS, DEFAULT_TABLE_TYPE, SCHEMA, CATALOG, SCHEMA_SEARCH_PATH, JAVA_OBJECT_SERIALIZER, IGNORE_CATALOGS, SESSION, TRANSACTION, TIME, NON_KEYWORDS, DEFAULT_NULL_ORDERING"; SQL statement:

    set client_min_messages = WARNING [42001-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.ParserBase.getSyntaxError(ParserBase.java:762) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parseSet(Parser.java:7592) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parsePrepared(Parser.java:614) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:581) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.parse(Parser.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.command.Parser.prepareCommand(Parser.java:484) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245) ~[h2-2.3.232.jar:2.3.232]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231) ~[h2-2.3.232.jar:2.3.232]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.1.0.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.1.0.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80) ~[hibernate-core-6.6.5.Final.jar:6.6.5.Final]
	... 116 common frames omitted

2025-03-25T16:37:46.091+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-25T16:37:46.092+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-25T16:37:46.101+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notification_preferences (
        board_sharing_notifications boolean not null,
        due_soon_notifications boolean not null,
        email_enabled boolean not null,
        overdue_notifications boolean not null,
        quiet_hours_enabled boolean,
        quiet_hours_end integer,
        quiet_hours_start integer,
        task_assignment_notifications boolean not null,
        websocket_enabled boolean not null,
        id varchar(255) not null,
        user_id varchar(255) not null unique,
        primary key (id)
    )
2025-03-25T16:37:46.110+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    create table notifications (
        is_read boolean not null,
        created_at timestamp(6) not null,
        message varchar(500) not null,
        id varchar(255) not null,
        notification_type varchar(255),
        payload TEXT,
        reference_id varchar(255),
        reference_type varchar(255),
        title varchar(255) not null,
        user_id varchar(255) not null,
        primary key (id)
    )
2025-03-25T16:37:46.117+07:00  INFO 17068 --- [notification-service] [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-03-25T16:37:46.279+07:00 DEBUG 17068 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Initializing JpaMetamodelMappingContext…
2025-03-25T16:37:46.297+07:00 DEBUG 17068 --- [notification-service] [main] .c.JpaMetamodelMappingContextFactoryBean : Finished initializing JpaMetamodelMappingContext
2025-03-25T16:37:46.444+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository…
2025-03-25T16:37:46.518+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserId'
2025-03-25T16:37:46.521+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserId
2025-03-25T16:37:46.592+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc'
2025-03-25T16:37:46.594+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdAndReadFalseOrderByCreatedAtDesc
2025-03-25T16:37:46.601+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.findByUserIdOrderByCreatedAtDesc'
2025-03-25T16:37:46.601+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.findByUserIdOrderByCreatedAtDesc
2025-03-25T16:37:46.603+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationEntity.countByUserIdAndReadFalse'
2025-03-25T16:37:46.603+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationEntity.countByUserIdAndReadFalse
2025-03-25T16:37:46.607+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationRepository.
2025-03-25T16:37:46.637+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Initializing repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository…
2025-03-25T16:37:46.640+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Looking up named query 'NotificationPreferenceEntity.findByUserId'
2025-03-25T16:37:46.640+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.jpa.repository.query.NamedQuery    : Did not find named query NotificationPreferenceEntity.findByUserId
2025-03-25T16:37:46.644+07:00 DEBUG 17068 --- [notification-service] [main] o.s.d.r.c.s.RepositoryFactorySupport     : Finished creation of repository instance for com.phuonghieuto.backend.notification_service.repository.NotificationPreferenceRepository.
2025-03-25T16:37:47.053+07:00  WARN 17068 --- [notification-service] [main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-03-25T16:37:47.152+07:00  INFO 17068 --- [notification-service] [main] o.s.c.openfeign.FeignClientFactoryBean   : For 'auth-service' URL not provided. Will try picking an instance via load-balancing.
2025-03-25T16:37:47.644+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.s.s.WebSocketHandlerMapping      : Patterns [/ws-notifications] in 'webSocketHandlerMapping'
2025-03-25T16:37:47.756+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 18 mappings in 'requestMappingHandlerMapping'
2025-03-25T16:37:47.852+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-03-25T16:37:48.077+07:00  INFO 17068 --- [notification-service] [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint beneath base path '/actuator'
2025-03-25T16:37:48.377+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:48.458+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 2 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:49.008+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.f.ServerHttpObservationFilter      : Filter 'webMvcObservationFilter' configured for use
2025-03-25T16:37:49.008+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.r.ResourceUrlEncodingFilter      : Filter 'resourceUrlEncodingFilter' configured for use
2025-03-25T16:37:49.011+07:00  INFO 17068 --- [notification-service] [main] o.a.c.c.C.[.[localhost].[/api/v1]        : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:49.011+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:49.014+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2025-03-25T16:37:50.056+07:00  INFO 17068 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-25T16:37:50.070+07:00  INFO 17068 --- [notification-service] [main] DiscoveryClientOptionalArgsConfiguration : Eureka HTTP Client uses RestTemplate.
2025-03-25T16:37:50.132+07:00  WARN 17068 --- [notification-service] [main] iguration$LoadBalancerCaffeineWarnLogger : Spring Cloud LoadBalancer is currently working with the default cache. While this cache implementation is useful for development and tests, it's recommended to use Caffeine cache in production.You can switch to using Caffeine cache, by adding it and org.springframework.cache.caffeine.CaffeineCacheManager to the classpath.
2025-03-25T16:37:50.384+07:00  INFO 17068 --- [notification-service] [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 63908 (http) with context path '/api/v1'
2025-03-25T16:37:51.398+07:00  INFO 17068 --- [notification-service] [main] o.s.cloud.commons.util.InetUtils         : Cannot determine local hostname
2025-03-25T16:37:51.418+07:00  INFO 17068 --- [notification-service] [main] ationPreferenceControllerIntegrationTest : Started NotificationPreferenceControllerIntegrationTest in 12.461 seconds (process running for 18.297)
2025-03-25T16:37:51.617+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:51.714+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:51.775+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-25T16:37:51.797+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 23, end: 6
2025-03-25T16:37:51.818+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:51.833+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-25T16:37:51.869+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:51.872+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@e (truncated)...]
2025-03-25T16:37:51.957+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:51.969+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:51.976+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:51.984+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:51.994+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-25T16:37:52.000+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type INVALID_TYPE to false for user: test-user-id
2025-03-25T16:37:52.002+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.004+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.005+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-25T16:37:52.020+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.022+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:52.028+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.039+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-25T16:37:52.040+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 24, end: 6
2025-03-25T16:37:52.041+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.041+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-25T16:37:52.052+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-25T16:37:52.053+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 22, end: -1
2025-03-25T16:37:52.053+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.053+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-25T16:37:52.057+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.070+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.071+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:52.080+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.093+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-25T16:37:52.094+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type DUE_SOON to false for user: test-user-id
2025-03-25T16:37:52.096+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.099+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-25T16:37:52.101+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.102+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@9 (truncated)...]
2025-03-25T16:37:52.109+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.122+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-25T16:37:52.123+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type OVERDUE to false for user: test-user-id
2025-03-25T16:37:52.124+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.126+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-25T16:37:52.129+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.129+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-25T16:37:52.145+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.175+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.181+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:52.193+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.212+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#resetToDefaults(Authentication)
2025-03-25T16:37:52.213+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Resetting notification preferences to defaults for user: test-user-id
2025-03-25T16:37:52.214+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.222+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-25T16:37:52.223+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.223+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@c (truncated)...]
2025-03-25T16:37:52.228+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.244+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.247+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:52.253+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.262+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-25T16:37:52.286+07:00 DEBUG 17068 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-25T16:37:52.289+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-25T16:37:52.290+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.292+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-25T16:37:52.294+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.294+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@8 (truncated)...]
2025-03-25T16:37:52.299+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.308+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.311+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:52.317+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.327+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-25T16:37:52.328+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-25T16:37:52.330+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.331+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.332+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@a (truncated)...]
2025-03-25T16:37:52.346+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.348+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:52.405+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.410+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.419+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleWebsocketNotifications(Authentication, boolean)
2025-03-25T16:37:52.420+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling websocket notifications to false for user: test-user-id
2025-03-25T16:37:52.422+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.423+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-25T16:37:52.424+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.425+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@4 (truncated)...]
2025-03-25T16:37:52.429+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.439+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.441+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:52.453+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-25T16:37:52.453+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-25T16:37:52.455+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.457+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.458+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.459+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@a (truncated)...]
2025-03-25T16:37:52.463+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.472+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.473+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:52.479+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.486+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-25T16:37:52.487+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to false for user: test-user-id
2025-03-25T16:37:52.488+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.490+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-25T16:37:52.492+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.492+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@2 (truncated)...]
2025-03-25T16:37:52.495+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.505+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-25T16:37:52.506+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to true for user: test-user-id
2025-03-25T16:37:52.507+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.510+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-25T16:37:52.512+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.512+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-25T16:37:52.516+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.526+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.528+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:52.535+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.542+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-25T16:37:52.543+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: false, start: null, end: null
2025-03-25T16:37:52.545+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.547+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-25T16:37:52.548+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.549+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-25T16:37:52.553+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.561+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0
2025-03-25T16:37:52.562+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notification_preferences 
    where
        id=?
2025-03-25T16:37:52.568+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notification_preferences
        (board_sharing_notifications, due_soon_notifications, email_enabled, overdue_notifications, quiet_hours_enabled, quiet_hours_end, quiet_hours_start, task_assignment_notifications, user_id, websocket_enabled, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.577+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-25T16:37:52.578+07:00 DEBUG 17068 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@7 (truncated)...]
2025-03-25T16:37:52.579+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-25T16:37:52.580+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.583+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notification_preferences 
    set
        board_sharing_notifications=?,
        due_soon_notifications=?,
        email_enabled=?,
        overdue_notifications=?,
        quiet_hours_enabled=?,
        quiet_hours_end=?,
        quiet_hours_start=?,
        task_assignment_notifications=?,
        user_id=?,
        websocket_enabled=? 
    where
        id=?
2025-03-25T16:37:52.584+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.585+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@5 (truncated)...]
2025-03-25T16:37:52.589+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.592+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        npe1_0.id,
        npe1_0.board_sharing_notifications,
        npe1_0.due_soon_notifications,
        npe1_0.email_enabled,
        npe1_0.overdue_notifications,
        npe1_0.quiet_hours_enabled,
        npe1_0.quiet_hours_end,
        npe1_0.quiet_hours_start,
        npe1_0.task_assignment_notifications,
        npe1_0.user_id,
        npe1_0.websocket_enabled 
    from
        notification_preferences npe1_0 
    where
        npe1_0.user_id=?
2025-03-25T16:37:52.603+07:00  INFO 17068 --- [notification-service] [main] t.c.s.AnnotationConfigContextLoaderUtils : Could not detect default configuration classes for test class [com.phuonghieuto.backend.notification_service.integration.BaseIntegrationTest]: BaseIntegrationTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2025-03-25T16:37:52.608+07:00  INFO 17068 --- [notification-service] [main] .b.t.c.SpringBootTestContextBootstrapper : Found @SpringBootConfiguration com.phuonghieuto.backend.notification_service.NotificationServiceApplication for test class com.phuonghieuto.backend.notification_service.integration.NotificationControllerIntegrationTest
2025-03-25T16:37:52.616+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:52.623+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.627+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.629+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.631+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.639+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUserNotifications(Authentication, Pageable)
2025-03-25T16:37:52.642+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting notifications for user: test-user-id
2025-03-25T16:37:52.646+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
    order by
        ne1_0.created_at desc,
        ne1_0.created_at 
    fetch
        first ? rows only
2025-03-25T16:37:52.657+07:00  WARN 17068 --- [notification-service] [main] ration$PageModule$WarningLoggingModifier : Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-03-25T16:37:52.660+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.660+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.phuonghieuto.backend.notification_service.model.notification.entity.Notif (truncated)...]
2025-03-25T16:37:52.703+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:52.706+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.707+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.707+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.708+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.722+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:52.728+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.730+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.733+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.739+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#countUnreadNotifications(Authentication)
2025-03-25T16:37:52.740+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Counting unread notifications for user
2025-03-25T16:37:52.747+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        count(ne1_0.id) 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read)
2025-03-25T16:37:52.751+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.752+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [2]
2025-03-25T16:37:52.761+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:52.762+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.763+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.763+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.779+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:52.786+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.797+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-25T16:37:52.798+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: 2fe49d43-430c-40d5-bce2-e07df23cf287
2025-03-25T16:37:52.803+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-25T16:37:52.806+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-25T16:37:52.810+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.817+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [NotificationEntity(id=2fe49d43-430c-40d5-bce2-e07df23cf287, userId=test-user-id, title=Task Due Soon (truncated)...]
2025-03-25T16:37:52.820+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-25T16:37:52.834+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:52.837+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.845+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.847+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.850+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.852+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:52.862+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAllAsRead(Authentication)
2025-03-25T16:37:52.863+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking all notifications as read for user
2025-03-25T16:37:52.866+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-25T16:37:52.871+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-25T16:37:52.873+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-25T16:37:52.874+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    update
        notifications 
    set
        message=?,
        payload=?,
        is_read=?,
        reference_id=?,
        reference_type=?,
        title=?,
        notification_type=?,
        user_id=? 
    where
        id=?
2025-03-25T16:37:52.876+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.876+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-25T16:37:52.881+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-25T16:37:52.886+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=?
2025-03-25T16:37:52.895+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:52.899+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.900+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.900+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.901+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:52.920+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-25T16:37:52.921+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: non-existent-id
2025-03-25T16:37:52.922+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.id=?
2025-03-25T16:37:52.929+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleNotificationNotFoundException(NotificationNotFoundException)
2025-03-25T16:37:52.932+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:52.932+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=Notification not found, timestamp=2025-03-25T16:37:52.930958900, status=404}]
2025-03-25T16:37:52.935+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.phuonghieuto.backend.notification_service.exception.NotificationNotFoundException: Notification not found]
2025-03-25T16:37:52.951+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:52.977+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:52.995+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:53.002+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:53.006+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:53.008+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    insert 
    into
        notifications
        (created_at, message, payload, is_read, reference_id, reference_type, title, notification_type, user_id, id) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-03-25T16:37:53.020+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUnreadNotifications(Authentication)
2025-03-25T16:37:53.021+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting unread notifications for user
2025-03-25T16:37:53.024+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0 
    where
        ne1_0.user_id=? 
        and not(ne1_0.is_read) 
    order by
        ne1_0.created_at desc
2025-03-25T16:37:53.027+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.028+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[NotificationEntity(id=a689fe4b-28fd-4493-94d2-405b22a76acc, userId=test-user-id, title=Task Overdue (truncated)...]
2025-03-25T16:37:53.040+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    select
        ne1_0.id,
        ne1_0.created_at,
        ne1_0.message,
        ne1_0.payload,
        ne1_0.is_read,
        ne1_0.reference_id,
        ne1_0.reference_type,
        ne1_0.title,
        ne1_0.notification_type,
        ne1_0.user_id 
    from
        notifications ne1_0
2025-03-25T16:37:53.042+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:53.043+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:53.043+07:00 DEBUG 17068 --- [notification-service] [main] org.hibernate.SQL                        : 
    delete 
    from
        notifications 
    where
        id=?
2025-03-25T16:37:53.314+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 7 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.318+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.319+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.320+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.320+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.321+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-03-25T16:37:53.326+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-25T16:37:53.328+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 21, end: 8
2025-03-25T16:37:53.331+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.331+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@7 (truncated)...]
2025-03-25T16:37:53.343+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 7 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.345+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.346+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.346+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.346+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.346+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.347+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-25T16:37:53.348+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type INVALID_TYPE to false for user: test-user-id
2025-03-25T16:37:53.351+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.352+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-25T16:37:53.362+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 7 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.365+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.366+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.366+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.366+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.367+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.368+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-25T16:37:53.369+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 24, end: 8
2025-03-25T16:37:53.372+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.373+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-25T16:37:53.374+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#configureQuietHours(Authentication, boolean, Integer, Integer)
2025-03-25T16:37:53.375+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Configuring quiet hours for user: test-user-id, enabled: true, start: 21, end: -1
2025-03-25T16:37:53.375+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.375+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-25T16:37:53.388+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 7 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.390+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.390+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.390+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.390+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.391+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-03-25T16:37:53.393+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleNotificationType(Authentication, String, boolean)
2025-03-25T16:37:53.394+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling notification type DUE_SOON to false for user: test-user-id
2025-03-25T16:37:53.397+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.397+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-25T16:37:53.408+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 7 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.409+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.410+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.410+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.411+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.411+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.413+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#resetToDefaults(Authentication)
2025-03-25T16:37:53.414+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Resetting notification preferences to defaults for user: test-user-id
2025-03-25T16:37:53.416+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.417+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@3 (truncated)...]
2025-03-25T16:37:53.428+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 7 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.431+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.431+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.432+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.432+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.432+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.436+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#updatePreferences(Authentication, NotificationPreferenceEntity)
2025-03-25T16:37:53.439+07:00 DEBUG 17068 --- [notification-service] [main] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json" to [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@5 (truncated)...]
2025-03-25T16:37:53.441+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Updating notification preferences for user: test-user-id
2025-03-25T16:37:53.444+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.444+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@b (truncated)...]
2025-03-25T16:37:53.456+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 7 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.458+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.459+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.459+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.459+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.460+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.463+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleWebsocketNotifications(Authentication, boolean)
2025-03-25T16:37:53.463+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling websocket notifications to false for user: test-user-id
2025-03-25T16:37:53.466+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.466+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@6 (truncated)...]
2025-03-25T16:37:53.484+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 7 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.486+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.486+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.486+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.486+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.487+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2025-03-25T16:37:53.488+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#toggleEmailNotifications(Authentication, boolean)
2025-03-25T16:37:53.488+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Toggling email notifications to false for user: test-user-id
2025-03-25T16:37:53.491+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.491+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@5 (truncated)...]
2025-03-25T16:37:53.501+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 7 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.504+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.505+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.505+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.505+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.505+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.507+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationPreferenceController#getUserPreferences(Authentication)
2025-03-25T16:37:53.508+07:00  INFO 17068 --- [notification-service] [main] p.b.n.c.NotificationPreferenceController : Getting notification preferences for user
2025-03-25T16:37:53.511+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.511+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.phuonghieuto.backend.notification_service.model.preference.entity.NotificationPreferenceEntity@4 (truncated)...]
2025-03-25T16:37:53.541+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.544+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.546+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.546+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.546+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.546+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.548+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAllAsRead(Authentication)
2025-03-25T16:37:53.549+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking all notifications as read for user
2025-03-25T16:37:53.549+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleGlobalException(Exception)
2025-03-25T16:37:53.550+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.551+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=An unexpected error occurred, error=Error marking notifications as read, timestamp=2025-03- (truncated)...]
2025-03-25T16:37:53.552+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.RuntimeException: Error marking notifications as read]
2025-03-25T16:37:53.562+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.564+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.566+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.566+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.566+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.566+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.567+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUserNotifications(Authentication, Pageable)
2025-03-25T16:37:53.568+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting notifications for user: test-user-id
2025-03-25T16:37:53.573+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.573+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 1 containing com.phuonghieuto.backend.notification_service.model.notification.entity.Notif (truncated)...]
2025-03-25T16:37:53.598+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.601+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.602+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.602+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.602+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.603+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.604+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUserNotifications(Authentication, Pageable)
2025-03-25T16:37:53.605+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting notifications for user: test-user-id
2025-03-25T16:37:53.609+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.609+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [Page 1 of 0 containing UNKNOWN instances]
2025-03-25T16:37:53.622+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.624+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.625+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.625+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.625+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.625+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.626+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-25T16:37:53.626+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: test-notification-id
2025-03-25T16:37:53.628+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler com.phuonghieuto.backend.notification_service.exception.exception_handler.GlobalExceptionHandler#handleNotificationNotFoundException(NotificationNotFoundException)
2025-03-25T16:37:53.629+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.629+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{message=Notification not found, timestamp=2025-03-25T16:37:53.628700200, status=404}]
2025-03-25T16:37:53.630+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [com.phuonghieuto.backend.notification_service.exception.NotificationNotFoundException: Notification not found]
2025-03-25T16:37:53.642+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.645+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.645+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.646+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.646+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.646+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.647+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#countUnreadNotifications(Authentication)
2025-03-25T16:37:53.647+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Counting unread notifications for user
2025-03-25T16:37:53.649+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.649+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [0]
2025-03-25T16:37:53.660+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.663+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.664+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.664+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.665+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.665+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.666+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#countUnreadNotifications(Authentication)
2025-03-25T16:37:53.666+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Counting unread notifications for user
2025-03-25T16:37:53.667+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.667+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [5]
2025-03-25T16:37:53.678+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.680+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.681+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.681+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.682+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.682+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.684+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAsRead(String, Authentication)
2025-03-25T16:37:53.685+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking notification as read: test-notification-id
2025-03-25T16:37:53.688+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.688+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [NotificationEntity(id=notification-1, userId=test-user-id, title=Task Due Soon, message=Your task 'C (truncated)...]
2025-03-25T16:37:53.700+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.702+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.702+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.702+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.702+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.703+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.704+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUnreadNotifications(Authentication)
2025-03-25T16:37:53.705+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting unread notifications for user
2025-03-25T16:37:53.707+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.708+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2025-03-25T16:37:53.719+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.721+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.721+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.721+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.721+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.721+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.722+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#markAllAsRead(Authentication)
2025-03-25T16:37:53.723+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Marking all notifications as read for user
2025-03-25T16:37:53.723+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.724+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2025-03-25T16:37:53.733+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : 5 mappings in org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping
2025-03-25T16:37:53.735+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-03-25T16:37:53.735+07:00 DEBUG 17068 --- [notification-service] [main] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-03-25T16:37:53.736+07:00  INFO 17068 --- [notification-service] [main] o.s.mock.web.MockServletContext          : Initializing Spring TestDispatcherServlet ''
2025-03-25T16:37:53.736+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2025-03-25T16:37:53.736+07:00  INFO 17068 --- [notification-service] [main] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2025-03-25T16:37:53.737+07:00 DEBUG 17068 --- [notification-service] [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.phuonghieuto.backend.notification_service.controller.NotificationController#getUnreadNotifications(Authentication)
2025-03-25T16:37:53.737+07:00  INFO 17068 --- [notification-service] [main] c.p.b.n.c.NotificationController         : Getting unread notifications for user
2025-03-25T16:37:53.739+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-03-25T16:37:53.740+07:00 DEBUG 17068 --- [notification-service] [main] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[NotificationEntity(id=notification-1, userId=test-user-id, title=Task Due Soon, message=Your task ' (truncated)...]
2025-03-25T16:37:53.751+07:00  INFO 17068 --- [notification-service] [SpringApplicationShutdownHook] o.s.b.w.e.tomcat.GracefulShutdown        : Commencing graceful shutdown. Waiting for active requests to complete
2025-03-25T16:37:53.757+07:00  INFO 17068 --- [notification-service] [tomcat-shutdown] o.s.b.w.e.tomcat.GracefulShutdown        : Graceful shutdown complete
2025-03-25T16:37:53.775+07:00  INFO 17068 --- [notification-service] [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-03-25T16:37:53.776+07:00 DEBUG 17068 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    set client_min_messages = WARNING
2025-03-25T16:37:53.777+07:00 ERROR 17068 --- [notification-service] [SpringApplicationShutdownHook] .SchemaDropperImpl$DelayedDropActionImpl : HHH000478: Unsuccessful: 
    set client_min_messages = WARNING
2025-03-25T16:37:53.777+07:00 DEBUG 17068 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notification_preferences cascade
2025-03-25T16:37:53.779+07:00 DEBUG 17068 --- [notification-service] [SpringApplicationShutdownHook] org.hibernate.SQL                        : 
    drop table if exists notifications cascade
2025-03-25T16:37:53.782+07:00  INFO 17068 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-03-25T16:37:53.784+07:00  INFO 17068 --- [notification-service] [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
